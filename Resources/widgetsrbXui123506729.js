(function(d,g){function j(){this.debug=!1;this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._datepickerShowing=!1;this._inDialog=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass=
"ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthNamesShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),dayNames:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),dayNamesShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),dayNamesMin:"Su,Mo,Tu,We,Th,Fr,Sa".split(","),
weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,
beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};d.extend(this._defaults,this.regional[""]);this.dpDiv=e(d('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function e(a){return a.delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a",
"mouseout",function(){d(this).removeClass("ui-state-hover");this.className.indexOf("ui-datepicker-prev")!=-1&&d(this).removeClass("ui-datepicker-prev-hover");this.className.indexOf("ui-datepicker-next")!=-1&&d(this).removeClass("ui-datepicker-next-hover")}).delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseover",function(){d.datepicker._isDisabledDatepicker(i.inline?a.parent()[0]:i.input[0])||(d(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),
d(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!=-1&&d(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!=-1&&d(this).addClass("ui-datepicker-next-hover"))})}function f(a,c){d.extend(a,c);for(var k in c)if(c[k]==null||c[k]==g)a[k]=c[k];return a}d.extend(d.ui,{datepicker:{version:"1.9.2"}});var b=(new Date).getTime(),i;d.extend(j.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",
arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return f(this._defaults,a||{}),this},_attachDatepicker:function(a,c){var k=null,h;for(h in this._defaults){var b=a.getAttribute("date:"+h);if(b){k=k||{};try{k[h]=eval(b)}catch(i){k[h]=b}}}h=a.nodeName.toLowerCase();b=h=="div"||h=="span";a.id||(this.uuid+=1,a.id="dp"+this.uuid);var e=this._newInst(d(a),b);e.settings=d.extend({},c||{},k||{});h=="input"?this._connectDatepicker(a,e):b&&this._inlineDatepicker(a,e)},_newInst:function(a,
c){return{id:a[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:c,dpDiv:c?e(d('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(a,c){var k=d(a);c.append=d([]);c.trigger=d([]);k.hasClass(this.markerClassName)||(this._attachments(k,c),k.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",
function(a,d,k){c.settings[d]=k}).bind("getData.datepicker",function(a,d){return this._get(c,d)}),this._autoSize(c),d.data(a,"datepicker",c),c.settings.disabled&&this._disableDatepicker(a))},_attachments:function(a,c){var k=this._get(c,"appendText"),h=this._get(c,"isRTL");c.append&&c.append.remove();k&&(c.append=d('<span class="'+this._appendClass+'">'+k+"</span>"),a[h?"before":"after"](c.append));a.unbind("focus",this._showDatepicker);c.trigger&&c.trigger.remove();k=this._get(c,"showOn");(k=="focus"||
k=="both")&&a.focus(this._showDatepicker);if(k=="button"||k=="both"){var k=this._get(c,"buttonText"),b=this._get(c,"buttonImage");c.trigger=d(this._get(c,"buttonImageOnly")?d("<img/>").addClass(this._triggerClass).attr({src:b,alt:k,title:k}):d('<button type="button"></button>').addClass(this._triggerClass).html(b==""?k:d("<img/>").attr({src:b,alt:k,title:k})));a[h?"before":"after"](c.trigger);c.trigger.click(function(){return d.datepicker._datepickerShowing&&d.datepicker._lastInput==a[0]?d.datepicker._hideDatepicker():
d.datepicker._datepickerShowing&&d.datepicker._lastInput!=a[0]?(d.datepicker._hideDatepicker(),d.datepicker._showDatepicker(a[0])):d.datepicker._showDatepicker(a[0]),!1})}},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var c=new Date(2009,11,20),d=this._get(a,"dateFormat");if(d.match(/[DM]/)){var h=function(a){for(var c=0,d=0,h=0;h<a.length;h++)a[h].length>c&&(c=a[h].length,d=h);return d};c.setMonth(h(this._get(a,d.match(/MM/)?"monthNames":"monthNamesShort")));c.setDate(h(this._get(a,
d.match(/DD/)?"dayNames":"dayNamesShort"))+20-c.getDay())}a.input.attr("size",this._formatDate(a,c).length)}},_inlineDatepicker:function(a,c){var k=d(a);k.hasClass(this.markerClassName)||(k.addClass(this.markerClassName).append(c.dpDiv).bind("setData.datepicker",function(a,d,k){c.settings[d]=k}).bind("getData.datepicker",function(a,d){return this._get(c,d)}),d.data(a,"datepicker",c),this._setDate(c,this._getDefaultDate(c),!0),this._updateDatepicker(c),this._updateAlternate(c),c.settings.disabled&&
this._disableDatepicker(a),c.dpDiv.css("display","block"))},_dialogDatepicker:function(a,c,k,h,b){a=this._dialogInst;if(!a)this.uuid+=1,this._dialogInput=d('<input type="text" id="dp'+this.uuid+'" style="position: absolute; top: -100px; width: 0px;"/>'),this._dialogInput.keydown(this._doKeyDown),d("body").append(this._dialogInput),a=this._dialogInst=this._newInst(this._dialogInput,!1),a.settings={},d.data(this._dialogInput[0],"datepicker",a);f(a.settings,h||{});c=c&&c.constructor==Date?this._formatDate(a,
c):c;this._dialogInput.val(c);this._pos=b?b.length?b:[b.pageX,b.pageY]:null;if(!this._pos)this._pos=[document.documentElement.clientWidth/2-100+(document.documentElement.scrollLeft||document.body.scrollLeft),document.documentElement.clientHeight/2-150+(document.documentElement.scrollTop||document.body.scrollTop)];return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),a.settings.onSelect=k,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),
d.blockUI&&d.blockUI(this.dpDiv),d.data(this._dialogInput[0],"datepicker",a),this},_destroyDatepicker:function(a){var c=d(a),k=d.data(a,"datepicker");if(c.hasClass(this.markerClassName)){var h=a.nodeName.toLowerCase();d.removeData(a,"datepicker");h=="input"?(k.append.remove(),k.trigger.remove(),c.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(h=="div"||h=="span")&&c.removeClass(this.markerClassName).empty()}},
_enableDatepicker:function(a){var c=d(a),k=d.data(a,"datepicker");if(c.hasClass(this.markerClassName)){var h=a.nodeName.toLowerCase();if(h=="input")a.disabled=!1,k.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if(h=="div"||h=="span")c=c.children("."+this._inlineClass),c.children().removeClass("ui-state-disabled"),c.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1);this._disabledInputs=d.map(this._disabledInputs,
function(c){return c==a?null:c})}},_disableDatepicker:function(a){var c=d(a),k=d.data(a,"datepicker");if(c.hasClass(this.markerClassName)){var h=a.nodeName.toLowerCase();if(h=="input")a.disabled=!0,k.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if(h=="div"||h=="span")c=c.children("."+this._inlineClass),c.children().addClass("ui-state-disabled"),c.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!0);this._disabledInputs=d.map(this._disabledInputs,function(c){return c==a?null:c});this._disabledInputs[this._disabledInputs.length]=a}},_isDisabledDatepicker:function(a){if(!a)return!1;for(var c=0;c<this._disabledInputs.length;c++)if(this._disabledInputs[c]==a)return!0;return!1},_getInst:function(a){try{return d.data(a,"datepicker")}catch(c){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(a,c,k){var h=this._getInst(a);if(arguments.length==2&&typeof c=="string")return c==
"defaults"?d.extend({},d.datepicker._defaults):h?c=="all"?d.extend({},h.settings):this._get(h,c):null;var b=c||{};typeof c=="string"&&(b={},b[c]=k);if(h){this._curInst==h&&this._hideDatepicker();var i=this._getDateDatepicker(a,!0),e=this._getMinMaxDate(h,"min"),r=this._getMinMaxDate(h,"max");f(h.settings,b);e!==null&&b.dateFormat!==g&&b.minDate===g&&(h.settings.minDate=this._formatDate(h,e));r!==null&&b.dateFormat!==g&&b.maxDate===g&&(h.settings.maxDate=this._formatDate(h,r));this._attachments(d(a),
h);this._autoSize(h);this._setDate(h,i);this._updateAlternate(h);this._updateDatepicker(h)}},_changeDatepicker:function(a,c,d){this._optionDatepicker(a,c,d)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,c){var d=this._getInst(a);d&&(this._setDate(d,c),this._updateDatepicker(d),this._updateAlternate(d))},_getDateDatepicker:function(a,c){var d=this._getInst(a);return d&&!d.inline&&this._setDateFromField(d,c),d?this._getDate(d):null},_doKeyDown:function(a){var c=
d.datepicker._getInst(a.target),b=!0,h=c.dpDiv.is(".ui-datepicker-rtl");c._keyEvent=!0;if(d.datepicker._datepickerShowing)switch(a.keyCode){case 9:d.datepicker._hideDatepicker();b=!1;break;case 13:return b=d("td."+d.datepicker._dayOverClass+":not(."+d.datepicker._currentClass+")",c.dpDiv),b[0]&&d.datepicker._selectDay(a.target,c.selectedMonth,c.selectedYear,b[0]),(a=d.datepicker._get(c,"onSelect"))?(b=d.datepicker._formatDate(c),a.apply(c.input?c.input[0]:null,[b,c])):d.datepicker._hideDatepicker(),
!1;case 27:d.datepicker._hideDatepicker();break;case 33:d.datepicker._adjustDate(a.target,a.ctrlKey?-d.datepicker._get(c,"stepBigMonths"):-d.datepicker._get(c,"stepMonths"),"M");break;case 34:d.datepicker._adjustDate(a.target,a.ctrlKey?+d.datepicker._get(c,"stepBigMonths"):+d.datepicker._get(c,"stepMonths"),"M");break;case 35:(a.ctrlKey||a.metaKey)&&d.datepicker._clearDate(a.target);b=a.ctrlKey||a.metaKey;break;case 36:(a.ctrlKey||a.metaKey)&&d.datepicker._gotoToday(a.target);b=a.ctrlKey||a.metaKey;
break;case 37:(a.ctrlKey||a.metaKey)&&d.datepicker._adjustDate(a.target,h?1:-1,"D");b=a.ctrlKey||a.metaKey;a.originalEvent.altKey&&d.datepicker._adjustDate(a.target,a.ctrlKey?-d.datepicker._get(c,"stepBigMonths"):-d.datepicker._get(c,"stepMonths"),"M");break;case 38:(a.ctrlKey||a.metaKey)&&d.datepicker._adjustDate(a.target,-7,"D");b=a.ctrlKey||a.metaKey;break;case 39:(a.ctrlKey||a.metaKey)&&d.datepicker._adjustDate(a.target,h?-1:1,"D");b=a.ctrlKey||a.metaKey;a.originalEvent.altKey&&d.datepicker._adjustDate(a.target,
a.ctrlKey?+d.datepicker._get(c,"stepBigMonths"):+d.datepicker._get(c,"stepMonths"),"M");break;case 40:(a.ctrlKey||a.metaKey)&&d.datepicker._adjustDate(a.target,7,"D");b=a.ctrlKey||a.metaKey;break;default:b=!1}else a.keyCode==36&&a.ctrlKey?d.datepicker._showDatepicker(this):b=!1;b&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var c=d.datepicker._getInst(a.target);if(d.datepicker._get(c,"constrainInput")){var c=d.datepicker._possibleChars(d.datepicker._get(c,"dateFormat")),b=String.fromCharCode(a.charCode==
g?a.keyCode:a.charCode);return a.ctrlKey||a.metaKey||b<" "||!c||c.indexOf(b)>-1}},_doKeyUp:function(a){a=d.datepicker._getInst(a.target);if(a.input.val()!=a.lastVal)try{d.datepicker.parseDate(d.datepicker._get(a,"dateFormat"),a.input?a.input.val():null,d.datepicker._getFormatConfig(a))&&(d.datepicker._setDateFromField(a),d.datepicker._updateAlternate(a),d.datepicker._updateDatepicker(a))}catch(c){d.datepicker.log(c)}return!0},_showDatepicker:function(a){a=a.target||a;a.nodeName.toLowerCase()!="input"&&
(a=d("input",a.parentNode)[0]);if(!(d.datepicker._isDisabledDatepicker(a)||d.datepicker._lastInput==a)){var c=d.datepicker._getInst(a);d.datepicker._curInst&&d.datepicker._curInst!=c&&(d.datepicker._curInst.dpDiv.stop(!0,!0),c&&d.datepicker._datepickerShowing&&d.datepicker._hideDatepicker(d.datepicker._curInst.input[0]));var b=d.datepicker._get(c,"beforeShow"),b=b?b.apply(a,[a,c]):{};if(b!==!1){f(c.settings,b);c.lastVal=null;d.datepicker._lastInput=a;d.datepicker._setDateFromField(c);d.datepicker._inDialog&&
(a.value="");d.datepicker._pos||(d.datepicker._pos=d.datepicker._findPos(a),d.datepicker._pos[1]+=a.offsetHeight);var h=!1;d(a).parents().each(function(){return h|=d(this).css("position")=="fixed",!h});b={left:d.datepicker._pos[0],top:d.datepicker._pos[1]};d.datepicker._pos=null;c.dpDiv.empty();c.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});d.datepicker._updateDatepicker(c);b=d.datepicker._checkOffset(c,b,h);c.dpDiv.css({position:d.datepicker._inDialog&&d.blockUI?"static":h?"fixed":
"absolute",display:"none",left:b.left+"px",top:b.top+"px"});if(!c.inline){var b=d.datepicker._get(c,"showAnim"),i=d.datepicker._get(c,"duration"),e=function(){var a=c.dpDiv.find("iframe.ui-datepicker-cover");if(a.length){var b=d.datepicker._getBorders(c.dpDiv);a.css({left:-b[0],top:-b[1],width:c.dpDiv.outerWidth(),height:c.dpDiv.outerHeight()})}};c.dpDiv.zIndex(d(a).zIndex()+1);d.datepicker._datepickerShowing=!0;d.effects&&(d.effects.effect[b]||d.effects[b])?c.dpDiv.show(b,d.datepicker._get(c,"showOptions"),
i,e):c.dpDiv[b||"show"](b?i:null,e);(!b||!i)&&e();c.input.is(":visible")&&!c.input.is(":disabled")&&c.input.focus();d.datepicker._curInst=c}}}},_updateDatepicker:function(a){this.maxRows=4;var c=d.datepicker._getBorders(a.dpDiv);i=a;a.dpDiv.empty().append(this._generateHTML(a));this._attachHandlers(a);var b=a.dpDiv.find("iframe.ui-datepicker-cover");!b.length||b.css({left:-c[0],top:-c[1],width:a.dpDiv.outerWidth(),height:a.dpDiv.outerHeight()});a.dpDiv.find("."+this._dayOverClass+" a").mouseover();
c=this._getNumberOfMonths(a);b=c[1];a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");b>1&&a.dpDiv.addClass("ui-datepicker-multi-"+b).css("width",17*b+"em");a.dpDiv[(c[0]!=1||c[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi");a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");a==d.datepicker._curInst&&d.datepicker._datepickerShowing&&a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&a.input[0]!=document.activeElement&&
a.input.focus();if(a.yearshtml){var h=a.yearshtml;setTimeout(function(){h===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml);h=a.yearshtml=null},0)}},_getBorders:function(a){var c=function(a){return{thin:1,medium:2,thick:3}[a]||a};return[parseFloat(c(a.css("border-left-width"))),parseFloat(c(a.css("border-top-width")))]},_checkOffset:function(a,c,b){var h=a.dpDiv.outerWidth(),i=a.dpDiv.outerHeight(),e=a.input?a.input.outerWidth():0,f=a.input?a.input.outerHeight():
0,g=document.documentElement.clientWidth+(b?0:d(document).scrollLeft()),j=document.documentElement.clientHeight+(b?0:d(document).scrollTop());return c.left-=this._get(a,"isRTL")?h-e:0,c.left-=b&&c.left==a.input.offset().left?d(document).scrollLeft():0,c.top-=b&&c.top==a.input.offset().top+f?d(document).scrollTop():0,c.left-=Math.min(c.left,c.left+h>g&&g>h?Math.abs(c.left+h-g):0),c.top-=Math.min(c.top,c.top+i>j&&j>i?Math.abs(i+f):0),c},_findPos:function(a){for(var c=this._get(this._getInst(a),"isRTL");a&&
(a.type=="hidden"||a.nodeType!=1||d.expr.filters.hidden(a));)a=a[c?"previousSibling":"nextSibling"];a=d(a).offset();return[a.left,a.top]},_hideDatepicker:function(a){var c=this._curInst;if(c&&!(a&&c!=d.data(a,"datepicker"))&&this._datepickerShowing){var a=this._get(c,"showAnim"),b=this._get(c,"duration"),h=function(){d.datepicker._tidyDialog(c)};d.effects&&(d.effects.effect[a]||d.effects[a])?c.dpDiv.hide(a,d.datepicker._get(c,"showOptions"),b,h):c.dpDiv[a=="slideDown"?"slideUp":a=="fadeIn"?"fadeOut":
"hide"](a?b:null,h);a||h();this._datepickerShowing=!1;a=this._get(c,"onClose");a&&a.apply(c.input?c.input[0]:null,[c.input?c.input.val():"",c]);this._lastInput=null;this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),d.blockUI&&(d.unblockUI(),d("body").append(this.dpDiv)));this._inDialog=!1}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(a){if(d.datepicker._curInst){var a=d(a.target),c=
d.datepicker._getInst(a[0]);(a[0].id!=d.datepicker._mainDivId&&a.parents("#"+d.datepicker._mainDivId).length==0&&!a.hasClass(d.datepicker.markerClassName)&&!a.closest("."+d.datepicker._triggerClass).length&&d.datepicker._datepickerShowing&&(!d.datepicker._inDialog||!d.blockUI)||a.hasClass(d.datepicker.markerClassName)&&d.datepicker._curInst!=c)&&d.datepicker._hideDatepicker()}},_adjustDate:function(a,c,b){var a=d(a),h=this._getInst(a[0]);this._isDisabledDatepicker(a[0])||(this._adjustInstDate(h,c+
(b=="M"?this._get(h,"showCurrentAtPos"):0),b),this._updateDatepicker(h))},_gotoToday:function(a){var a=d(a),c=this._getInst(a[0]);if(this._get(c,"gotoCurrent")&&c.currentDay)c.selectedDay=c.currentDay,c.drawMonth=c.selectedMonth=c.currentMonth,c.drawYear=c.selectedYear=c.currentYear;else{var b=new Date;c.selectedDay=b.getDate();c.drawMonth=c.selectedMonth=b.getMonth();c.drawYear=c.selectedYear=b.getFullYear()}this._notifyChange(c);this._adjustDate(a)},_selectMonthYear:function(a,c,b){var a=d(a),h=
this._getInst(a[0]);h["selected"+(b=="M"?"Month":"Year")]=h["draw"+(b=="M"?"Month":"Year")]=parseInt(c.options[c.selectedIndex].value,10);this._notifyChange(h);this._adjustDate(a)},_selectDay:function(a,c,b,h){var i=d(a);if(!d(h).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(i[0]))i=this._getInst(i[0]),i.selectedDay=i.currentDay=d("a",h).html(),i.selectedMonth=i.currentMonth=c,i.selectedYear=i.currentYear=b,this._selectDate(a,this._formatDate(i,i.currentDay,i.currentMonth,i.currentYear))},
_clearDate:function(a){a=d(a);this._getInst(a[0]);this._selectDate(a,"")},_selectDate:function(a,c){var b=this._getInst(d(a)[0]);c=c!=null?c:this._formatDate(b);b.input&&b.input.val(c);this._updateAlternate(b);var h=this._get(b,"onSelect");h?h.apply(b.input?b.input[0]:null,[c,b]):b.input&&b.input.trigger("change");b.inline?this._updateDatepicker(b):(this._hideDatepicker(),this._lastInput=b.input[0],typeof b.input[0]!="object"&&b.input.focus(),this._lastInput=null)},_updateAlternate:function(a){var c=
this._get(a,"altField");if(c){var b=this._get(a,"altFormat")||this._get(a,"dateFormat"),h=this._getDate(a),i=this.formatDate(b,h,this._getFormatConfig(a));d(c).each(function(){d(this).val(i)})}},noWeekends:function(a){a=a.getDay();return[a>0&&a<6,""]},iso8601Week:function(a){a=new Date(a.getTime());a.setDate(a.getDate()+4-(a.getDay()||7));var c=a.getTime();return a.setMonth(0),a.setDate(1),Math.floor(Math.round((c-a)/864E5)/7)+1},parseDate:function(a,c,b){if(a==null||c==null)throw"Invalid arguments";
c=typeof c=="object"?c.toString():c+"";if(c=="")return null;for(var h=(b?b.shortYearCutoff:null)||this._defaults.shortYearCutoff,h=typeof h!="string"?h:(new Date).getFullYear()%100+parseInt(h,10),i=(b?b.dayNamesShort:null)||this._defaults.dayNamesShort,e=(b?b.dayNames:null)||this._defaults.dayNames,f=(b?b.monthNamesShort:null)||this._defaults.monthNamesShort,g=(b?b.monthNames:null)||this._defaults.monthNames,j=b=-1,m=-1,u=-1,o=!1,n=function(c){c=B+1<a.length&&a.charAt(B+1)==c;return c&&B++,c},l=function(a){var b=
n(a),a=c.substring(x).match(RegExp("^\\d{1,"+(a=="@"?14:a=="!"?20:a=="y"&&b?4:a=="o"?3:2)+"}"));if(!a)throw"Missing number at position "+x;return x+=a[0].length,parseInt(a[0],10)},p=function(a,b,h){var a=d.map(n(a)?h:b,function(a,c){return[[c,a]]}).sort(function(a,c){return-(a[1].length-c[1].length)}),i=-1;d.each(a,function(a,b){var d=b[1];if(c.substr(x,d.length).toLowerCase()==d.toLowerCase())return i=b[0],x+=d.length,!1});if(i!=-1)return i+1;throw"Unknown name at position "+x;},s=function(){if(c.charAt(x)!=
a.charAt(B))throw"Unexpected literal at position "+x;x++},x=0,B=0;B<a.length;B++)if(o)a.charAt(B)=="'"&&!n("'")?o=!1:s();else switch(a.charAt(B)){case "d":m=l("d");break;case "D":p("D",i,e);break;case "o":u=l("o");break;case "m":j=l("m");break;case "M":j=p("M",f,g);break;case "y":b=l("y");break;case "@":var y=new Date(l("@"));b=y.getFullYear();j=y.getMonth()+1;m=y.getDate();break;case "!":y=new Date((l("!")-this._ticksTo1970)/1E4);b=y.getFullYear();j=y.getMonth()+1;m=y.getDate();break;case "'":n("'")?
s():o=!0;break;default:s()}if(x<c.length&&(i=c.substr(x),!/^\s+/.test(i)))throw"Extra/unparsed characters found in date: "+i;b==-1?b=(new Date).getFullYear():b<100&&(b+=(new Date).getFullYear()-(new Date).getFullYear()%100+(b<=h?0:-100));if(u>-1){j=1;m=u;do{h=this._getDaysInMonth(b,j-1);if(m<=h)break;j++;m-=h}while(1)}y=this._daylightSavingAdjust(new Date(b,j-1,m));if(y.getFullYear()!=b||y.getMonth()+1!=j||y.getDate()!=m)throw"Invalid date";return y},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",
RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*864E9,formatDate:function(a,c,b){if(!c)return"";var d=(b?b.dayNamesShort:null)||this._defaults.dayNamesShort,i=(b?b.dayNames:null)||this._defaults.dayNames,e=(b?b.monthNamesShort:null)||this._defaults.monthNamesShort,b=(b?b.monthNames:null)||this._defaults.monthNames,f=
function(c){c=o+1<a.length&&a.charAt(o+1)==c;return c&&o++,c},g=function(a,c,b){c=""+c;if(f(a))for(;c.length<b;)c="0"+c;return c},j=function(a,c,b,d){return f(a)?d[c]:b[c]},m="",u=!1;if(c)for(var o=0;o<a.length;o++)if(u)a.charAt(o)=="'"&&!f("'")?u=!1:m+=a.charAt(o);else switch(a.charAt(o)){case "d":m+=g("d",c.getDate(),2);break;case "D":m+=j("D",c.getDay(),d,i);break;case "o":m+=g("o",Math.round(((new Date(c.getFullYear(),c.getMonth(),c.getDate())).getTime()-(new Date(c.getFullYear(),0,0)).getTime())/
864E5),3);break;case "m":m+=g("m",c.getMonth()+1,2);break;case "M":m+=j("M",c.getMonth(),e,b);break;case "y":m+=f("y")?c.getFullYear():(c.getYear()%100<10?"0":"")+c.getYear()%100;break;case "@":m+=c.getTime();break;case "!":m+=c.getTime()*1E4+this._ticksTo1970;break;case "'":f("'")?m+="'":u=!0;break;default:m+=a.charAt(o)}return m},_possibleChars:function(a){for(var c="",b=!1,d=function(c){c=i+1<a.length&&a.charAt(i+1)==c;return c&&i++,c},i=0;i<a.length;i++)if(b)a.charAt(i)=="'"&&!d("'")?b=!1:c+=
a.charAt(i);else switch(a.charAt(i)){case "d":case "m":case "y":case "@":c+="0123456789";break;case "D":case "M":return null;case "'":d("'")?c+="'":b=!0;break;default:c+=a.charAt(i)}return c},_get:function(a,c){return a.settings[c]!==g?a.settings[c]:this._defaults[c]},_setDateFromField:function(a,c){if(a.input.val()!=a.lastVal){var b=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,i,e;i=e=this._getDefaultDate(a);var f=this._getFormatConfig(a);try{i=this.parseDate(b,d,f)||e}catch(g){this.log(g),
d=c?"":d}a.selectedDay=i.getDate();a.drawMonth=a.selectedMonth=i.getMonth();a.drawYear=a.selectedYear=i.getFullYear();a.currentDay=d?i.getDate():0;a.currentMonth=d?i.getMonth():0;a.currentYear=d?i.getFullYear():0;this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,c,b){var h=function(a){var c=new Date;return c.setDate(c.getDate()+a),c},c=c==null||c===""?b:typeof c=="string"?function(c){try{return d.datepicker.parseDate(d.datepicker._get(a,
"dateFormat"),c,d.datepicker._getFormatConfig(a))}catch(b){}for(var h=(c.toLowerCase().match(/^c/)?d.datepicker._getDate(a):null)||new Date,i=h.getFullYear(),k=h.getMonth(),h=h.getDate(),e=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,f=e.exec(c);f;){switch(f[2]||"d"){case "d":case "D":h+=parseInt(f[1],10);break;case "w":case "W":h+=parseInt(f[1],10)*7;break;case "m":case "M":k+=parseInt(f[1],10);h=Math.min(h,d.datepicker._getDaysInMonth(i,k));break;case "y":case "Y":i+=parseInt(f[1],10),h=Math.min(h,d.datepicker._getDaysInMonth(i,
k))}f=e.exec(c)}return new Date(i,k,h)}(c):typeof c=="number"?isNaN(c)?b:h(c):new Date(c.getTime());return c=c&&c.toString()=="Invalid Date"?b:c,c&&(c.setHours(0),c.setMinutes(0),c.setSeconds(0),c.setMilliseconds(0)),this._daylightSavingAdjust(c)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(a,c,b){var d=!c,i=a.selectedMonth,e=a.selectedYear,c=this._restrictMinMax(a,this._determineDate(a,c,new Date));a.selectedDay=a.currentDay=
c.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=c.getMonth();a.drawYear=a.selectedYear=a.currentYear=c.getFullYear();(i!=a.selectedMonth||e!=a.selectedYear)&&!b&&this._notifyChange(a);this._adjustInstDate(a);a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){return!a.currentYear||a.input&&a.input.val()==""?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay))},_attachHandlers:function(a){var c=this._get(a,"stepMonths"),i="#"+a.id.replace(/\\\\/g,
"\\");a.dpDiv.find("[data-handler]").map(function(){d(this).bind(this.getAttribute("data-event"),{prev:function(){window["DP_jQuery_"+b].datepicker._adjustDate(i,-c,"M")},next:function(){window["DP_jQuery_"+b].datepicker._adjustDate(i,+c,"M")},hide:function(){window["DP_jQuery_"+b].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+b].datepicker._gotoToday(i)},selectDay:function(){return window["DP_jQuery_"+b].datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),
this),!1},selectMonth:function(){return window["DP_jQuery_"+b].datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+b].datepicker._selectMonthYear(i,this,"Y"),!1}}[this.getAttribute("data-handler")])})},_generateHTML:function(a){var c=new Date,c=this._daylightSavingAdjust(new Date(c.getFullYear(),c.getMonth(),c.getDate())),b=this._get(a,"isRTL"),h=this._get(a,"showButtonPanel"),i=this._get(a,"hideIfNoPrevNext"),e=this._get(a,"navigationAsDateFormat"),f=this._getNumberOfMonths(a),
g=this._get(a,"showCurrentAtPos"),j=this._get(a,"stepMonths"),m=f[0]!=1||f[1]!=1,u=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),o=this._getMinMaxDate(a,"min"),n=this._getMinMaxDate(a,"max"),g=a.drawMonth-g,l=a.drawYear;g<0&&(g+=12,l--);if(n)for(var p=this._daylightSavingAdjust(new Date(n.getFullYear(),n.getMonth()-f[0]*f[1]+1,n.getDate())),p=o&&p<o?o:p;this._daylightSavingAdjust(new Date(l,g,1))>p;)g--,g<0&&(g=11,l--);a.drawMonth=
g;a.drawYear=l;var p=this._get(a,"prevText"),p=e?this.formatDate(p,this._daylightSavingAdjust(new Date(l,g-j,1)),this._getFormatConfig(a)):p,p=this._canAdjustMonth(a,-1,l,g)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+p+'"><span class="ui-icon ui-icon-circle-triangle-'+(b?"e":"w")+'">'+p+"</span></a>":i?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+p+'"><span class="ui-icon ui-icon-circle-triangle-'+(b?"e":"w")+'">'+p+"</span></a>",
s=this._get(a,"nextText"),s=e?this.formatDate(s,this._daylightSavingAdjust(new Date(l,g+j,1)),this._getFormatConfig(a)):s,i=this._canAdjustMonth(a,1,l,g)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(b?"w":"e")+'">'+s+"</span></a>":i?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(b?"w":"e")+'">'+s+"</span></a>",j=this._get(a,
"currentText"),s=this._get(a,"gotoCurrent")&&a.currentDay?u:c,j=e?this.formatDate(j,s,this._getFormatConfig(a)):j,e=a.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+this._get(a,"closeText")+"</button>",h=h?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(b?e:"")+(this._isInRange(a,s)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+
j+"</button>":"")+(b?"":e)+"</div>":"",e=parseInt(this._get(a,"firstDay"),10),e=isNaN(e)?0:e,j=this._get(a,"showWeek"),s=this._get(a,"dayNames");this._get(a,"dayNamesShort");var x=this._get(a,"dayNamesMin"),B=this._get(a,"monthNames"),y=this._get(a,"monthNamesShort"),I=this._get(a,"beforeShowDay"),J=this._get(a,"showOtherMonths"),M=this._get(a,"selectOtherMonths");this._get(a,"calculateWeek");for(var N=this._getDefaultDate(a),H="",E=0;E<f[0];E++){var F="";this.maxRows=4;for(var A=0;A<f[1];A++){var G=
this._daylightSavingAdjust(new Date(l,g,a.selectedDay)),v=" ui-corner-all",C="";if(m){C+='<div class="ui-datepicker-group';if(f[1]>1)switch(A){case 0:C+=" ui-datepicker-group-first";v=" ui-corner-"+(b?"right":"left");break;case f[1]-1:C+=" ui-datepicker-group-last";v=" ui-corner-"+(b?"left":"right");break;default:C+=" ui-datepicker-group-middle",v=""}C+='">'}C+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+v+'">'+(/all|left/.test(v)&&E==0?b?i:p:"")+(/all|right/.test(v)&&E==
0?b?p:i:"")+this._generateMonthYearHeader(a,g,l,o,n,E>0||A>0,B,y)+'</div><table class="ui-datepicker-calendar"><thead><tr>';for(var D=j?'<th class="ui-datepicker-week-col">'+this._get(a,"weekHeader")+"</th>":"",v=0;v<7;v++){var t=(v+e)%7;D+="<th"+((v+e+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+s[t]+'">'+x[t]+"</span></th>"}C+=D+"</tr></thead><tbody>";D=this._getDaysInMonth(l,g);l==a.selectedYear&&g==a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,D));v=(this._getFirstDayOfMonth(l,
g)-e+7)%7;D=Math.ceil((v+D)/7);this.maxRows=D=m?this.maxRows>D?this.maxRows:D:D;for(var t=this._daylightSavingAdjust(new Date(l,g,1-v)),Q=0;Q<D;Q++){C+="<tr>";for(var R=j?'<td class="ui-datepicker-week-col">'+this._get(a,"calculateWeek")(t)+"</td>":"",v=0;v<7;v++){var O=I?I.apply(a.input?a.input[0]:null,[t]):[!0,""],K=t.getMonth()!=g,P=K&&!M||!O[0]||o&&t<o||n&&t>n;R+='<td class="'+((v+e+6)%7>=5?" ui-datepicker-week-end":"")+(K?" ui-datepicker-other-month":"")+(t.getTime()==G.getTime()&&g==a.selectedMonth&&
a._keyEvent||N.getTime()==t.getTime()&&N.getTime()==G.getTime()?" "+this._dayOverClass:"")+(P?" "+this._unselectableClass+" ui-state-disabled":"")+(K&&!J?"":" "+O[1]+(t.getTime()==u.getTime()?" "+this._currentClass:"")+(t.getTime()==c.getTime()?" ui-datepicker-today":""))+'"'+((!K||J)&&O[2]?' title="'+O[2]+'"':"")+(P?"":' data-handler="selectDay" data-event="click" data-month="'+t.getMonth()+'" data-year="'+t.getFullYear()+'"')+">"+(K&&!J?"&#xa0;":P?'<span class="ui-state-default">'+t.getDate()+"</span>":
'<a class="ui-state-default'+(t.getTime()==c.getTime()?" ui-state-highlight":"")+(t.getTime()==u.getTime()?" ui-state-active":"")+(K?" ui-priority-secondary":"")+'" href="#">'+t.getDate()+"</a>")+"</td>";t.setDate(t.getDate()+1);t=this._daylightSavingAdjust(t)}C+=R+"</tr>"}g++;g>11&&(g=0,l++);C+="</tbody></table>"+(m?"</div>"+(f[0]>0&&A==f[1]-1?'<div class="ui-datepicker-row-break"></div>':""):"");F+=C}H+=F}return H+=h+(d.ui.ie6&&!a.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':
""),a._keyEvent=!1,H},_generateMonthYearHeader:function(a,c,b,d,i,e,f,g){var j=this._get(a,"changeMonth"),m=this._get(a,"changeYear"),u=this._get(a,"showMonthAfterYear"),o='<div class="ui-datepicker-title">',n="";if(e||!j)n+='<span class="ui-datepicker-month">'+f[c]+"</span>";else{var f=d&&d.getFullYear()==b,l=i&&i.getFullYear()==b;n+='<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">';for(var p=0;p<12;p++)(!f||p>=d.getMonth())&&(!l||p<=i.getMonth())&&(n+='<option value="'+
p+'"'+(p==c?' selected="selected"':"")+">"+g[p]+"</option>");n+="</select>"}u||(o+=n+(e||!j||!m?"&#xa0;":""));if(!a.yearshtml)if(a.yearshtml="",e||!m)o+='<span class="ui-datepicker-year">'+b+"</span>";else{var g=this._get(a,"yearRange").split(":"),s=(new Date).getFullYear(),f=function(a){a=a.match(/c[+-].*/)?b+parseInt(a.substring(1),10):a.match(/[+-].*/)?s+parseInt(a,10):parseInt(a,10);return isNaN(a)?s:a},c=f(g[0]),g=Math.max(c,f(g[1]||""));for(c=d?Math.max(c,d.getFullYear()):c,g=i?Math.min(g,i.getFullYear()):
g,a.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';c<=g;c++)a.yearshtml+='<option value="'+c+'"'+(c==b?' selected="selected"':"")+">"+c+"</option>";a.yearshtml+="</select>";o+=a.yearshtml;a.yearshtml=null}return o+=this._get(a,"yearSuffix"),u&&(o+=(e||!j||!m?"&#xa0;":"")+n),o+="</div>",o},_adjustInstDate:function(a,c,b){var d=a.drawYear+(b=="Y"?c:0),i=a.drawMonth+(b=="M"?c:0),c=Math.min(a.selectedDay,this._getDaysInMonth(d,i))+(b=="D"?c:0),d=this._restrictMinMax(a,
this._daylightSavingAdjust(new Date(d,i,c)));a.selectedDay=d.getDate();a.drawMonth=a.selectedMonth=d.getMonth();a.drawYear=a.selectedYear=d.getFullYear();(b=="M"||b=="Y")&&this._notifyChange(a)},_restrictMinMax:function(a,c){var b=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),b=b&&c<b?b:c;return b=d&&b>d?d:b,b},_notifyChange:function(a){var c=this._get(a,"onChangeMonthYear");c&&c.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){a=this._get(a,
"numberOfMonths");return a==null?[1,1]:typeof a=="number"?[1,a]:a},_getMinMaxDate:function(a,c){return this._determineDate(a,this._get(a,c+"Date"),null)},_getDaysInMonth:function(a,c){return 32-this._daylightSavingAdjust(new Date(a,c,32)).getDate()},_getFirstDayOfMonth:function(a,c){return(new Date(a,c,1)).getDay()},_canAdjustMonth:function(a,c,b,d){var i=this._getNumberOfMonths(a),b=this._daylightSavingAdjust(new Date(b,d+(c<0?c:i[0]*i[1]),1));return c<0&&b.setDate(this._getDaysInMonth(b.getFullYear(),
b.getMonth())),this._isInRange(a,b)},_isInRange:function(a,c){var b=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max");return(!b||c.getTime()>=b.getTime())&&(!d||c.getTime()<=d.getTime())},_getFormatConfig:function(a){var c=this._get(a,"shortYearCutoff");return c=typeof c!="string"?c:(new Date).getFullYear()%100+parseInt(c,10),{shortYearCutoff:c,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,
"monthNames")}},_formatDate:function(a,c,b,d){c||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);c=c?typeof c=="object"?c:this._daylightSavingAdjust(new Date(d,b,c)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),c,this._getFormatConfig(a))}});d.fn.datepicker=function(a){if(!this.length)return this;d.datepicker.initialized||(d(document).mousedown(d.datepicker._checkExternalClick).find(document.body).append(d.datepicker.dpDiv),
d.datepicker.initialized=!0);var c=Array.prototype.slice.call(arguments,1);return typeof a!="string"||a!="isDisabled"&&a!="getDate"&&a!="widget"?a=="option"&&arguments.length==2&&typeof arguments[1]=="string"?d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this[0]].concat(c)):this.each(function(){typeof a=="string"?d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this].concat(c)):d.datepicker._attachDatepicker(this,a)}):d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this[0]].concat(c))};
d.datepicker=new j;d.datepicker.initialized=!1;d.datepicker.uuid=(new Date).getTime();d.datepicker.version="1.9.2";window["DP_jQuery_"+b]=d})(jQuery);
(function(d){d.widget("ui.selectable",d.ui.mouse,{version:"1.9.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var g=this;this.element.addClass("ui-selectable");this.dragged=!1;var j;this.refresh=function(){j=d(g.options.filter,g.element[0]);j.addClass("ui-selectee");j.each(function(){var e=d(this),f=e.offset();d.data(this,"selectable-item",{element:this,$element:e,left:f.left,top:f.top,right:f.left+e.outerWidth(),bottom:f.top+e.outerHeight(),
startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})};this.refresh();this.selectees=j.addClass("ui-selectee");this._mouseInit();this.helper=d("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");this._mouseDestroy()},_mouseStart:function(g){var j=this;this.opos=[g.pageX,
g.pageY];if(!this.options.disabled){var e=this.options;this.selectees=d(e.filter,this.element[0]);this._trigger("start",g);d(e.appendTo).append(this.helper);this.helper.css({left:g.clientX,top:g.clientY,width:0,height:0});e.autoRefresh&&this.refresh();this.selectees.filter(".ui-selected").each(function(){var e=d.data(this,"selectable-item");e.startselected=!0;if(!g.metaKey&&!g.ctrlKey)e.$element.removeClass("ui-selected"),e.selected=!1,e.$element.addClass("ui-unselecting"),e.unselecting=!0,j._trigger("unselecting",
g,{unselecting:e.element})});d(g.target).parents().andSelf().each(function(){var e=d.data(this,"selectable-item");if(e){var b=!g.metaKey&&!g.ctrlKey||!e.$element.hasClass("ui-selected");e.$element.removeClass(b?"ui-unselecting":"ui-selected").addClass(b?"ui-selecting":"ui-unselecting");e.unselecting=!b;e.selecting=b;(e.selected=b)?j._trigger("selecting",g,{selecting:e.element}):j._trigger("unselecting",g,{unselecting:e.element});return!1}})}},_mouseDrag:function(g){var j=this;this.dragged=!0;if(!this.options.disabled){var e=
this.options,f=this.opos[0],b=this.opos[1],i=g.pageX,a=g.pageY;if(f>i)var c=i,i=f,f=c;b>a&&(c=a,a=b,b=c);this.helper.css({left:f,top:b,width:i-f,height:a-b});this.selectees.each(function(){var c=d.data(this,"selectable-item");if(c&&c.element!=j.element[0]){var h=!1;e.tolerance=="touch"?h=!(c.left>i||c.right<f||c.top>a||c.bottom<b):e.tolerance=="fit"&&(h=c.left>f&&c.right<i&&c.top>b&&c.bottom<a);if(h){if(c.selected)c.$element.removeClass("ui-selected"),c.selected=!1;if(c.unselecting)c.$element.removeClass("ui-unselecting"),
c.unselecting=!1;if(!c.selecting)c.$element.addClass("ui-selecting"),c.selecting=!0,j._trigger("selecting",g,{selecting:c.element})}else{if(c.selecting)if((g.metaKey||g.ctrlKey)&&c.startselected)c.$element.removeClass("ui-selecting"),c.selecting=!1,c.$element.addClass("ui-selected"),c.selected=!0;else{c.$element.removeClass("ui-selecting");c.selecting=!1;if(c.startselected)c.$element.addClass("ui-unselecting"),c.unselecting=!0;j._trigger("unselecting",g,{unselecting:c.element})}if(c.selected&&!g.metaKey&&
!g.ctrlKey&&!c.startselected)c.$element.removeClass("ui-selected"),c.selected=!1,c.$element.addClass("ui-unselecting"),c.unselecting=!0,j._trigger("unselecting",g,{unselecting:c.element})}}});return!1}},_mouseStop:function(g){var j=this;this.dragged=!1;d(".ui-unselecting",this.element[0]).each(function(){var e=d.data(this,"selectable-item");e.$element.removeClass("ui-unselecting");e.unselecting=!1;e.startselected=!1;j._trigger("unselected",g,{unselected:e.element})});d(".ui-selecting",this.element[0]).each(function(){var e=
d.data(this,"selectable-item");e.$element.removeClass("ui-selecting").addClass("ui-selected");e.selecting=!1;e.selected=!0;e.startselected=!0;j._trigger("selected",g,{selected:e.element})});this._trigger("stop",g);this.helper.remove();return!1}})})(jQuery);
(function(d){d.widget("ui.slider",d.ui.mouse,{version:"1.9.2",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var g,j,e=this.options,f=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),b=[];this._mouseSliding=this._keySliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+
" ui-widget ui-widget-content ui-corner-all"+(e.disabled?" ui-slider-disabled ui-disabled":""));this.range=d([]);if(e.range){if(e.range===!0){if(!e.values)e.values=[this._valueMin(),this._valueMin()];if(e.values.length&&e.values.length!==2)e.values=[e.values[0],e.values[0]]}this.range=d("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+(e.range==="min"||e.range==="max"?" ui-slider-range-"+e.range:""))}j=e.values&&e.values.length||1;for(g=f.length;g<j;g++)b.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");
this.handles=f.add(d(b.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.add(this.range).filter("a").click(function(b){b.preventDefault()}).mouseenter(function(){e.disabled||d(this).addClass("ui-state-hover")}).mouseleave(function(){d(this).removeClass("ui-state-hover")}).focus(function(){e.disabled?d(this).blur():(d(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),d(this).addClass("ui-state-focus"))}).blur(function(){d(this).removeClass("ui-state-focus")});
this.handles.each(function(b){d(this).data("ui-slider-handle-index",b)});this._on(this.handles,{keydown:function(b){var a,c,e,h=d(b.target).data("ui-slider-handle-index");switch(b.keyCode){case d.ui.keyCode.HOME:case d.ui.keyCode.END:case d.ui.keyCode.PAGE_UP:case d.ui.keyCode.PAGE_DOWN:case d.ui.keyCode.UP:case d.ui.keyCode.RIGHT:case d.ui.keyCode.DOWN:case d.ui.keyCode.LEFT:if(b.preventDefault(),!this._keySliding&&(this._keySliding=!0,d(b.target).addClass("ui-state-active"),a=this._start(b,h),a===
!1))return}e=this.options.step;a=this.options.values&&this.options.values.length?c=this.values(h):c=this.value();switch(b.keyCode){case d.ui.keyCode.HOME:c=this._valueMin();break;case d.ui.keyCode.END:c=this._valueMax();break;case d.ui.keyCode.PAGE_UP:c=this._trimAlignValue(a+(this._valueMax()-this._valueMin())/5);break;case d.ui.keyCode.PAGE_DOWN:c=this._trimAlignValue(a-(this._valueMax()-this._valueMin())/5);break;case d.ui.keyCode.UP:case d.ui.keyCode.RIGHT:if(a===this._valueMax())return;c=this._trimAlignValue(a+
e);break;case d.ui.keyCode.DOWN:case d.ui.keyCode.LEFT:if(a===this._valueMin())return;c=this._trimAlignValue(a-e)}this._slide(b,h,c)},keyup:function(b){var a=d(b.target).data("ui-slider-handle-index");if(this._keySliding)this._keySliding=!1,this._stop(b,a),this._change(b,a),d(b.target).removeClass("ui-state-active")}});this._refreshValue();this._animateOff=!1},_destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all");
this._mouseDestroy()},_mouseCapture:function(g){var j,e,f,b,i,a=this;i=this.options;if(i.disabled)return!1;this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();if(g.hasOwnProperty("pageX")&&g.hasOwnProperty("pageY"))var c=g.pageX,k=g.pageY;else if(g.originalEvent)c=g.originalEvent.pageX,k=g.originalEvent.pageY;j=this._normValueFromMouse({x:c,y:k});e=this._valueMax()-this._valueMin()+1;this.handles.each(function(c){var i=Math.abs(j-
a.values(c));e>i&&(e=i,f=d(this),b=c)});i.range===!0&&this.values(1)===i.min&&(b+=1,f=d(this.handles[b]));if(this._start(g,b)===!1)return!1;this._mouseSliding=!0;this._handleIndex=b;f.addClass("ui-state-active").focus();i=f.offset();this._clickOffset=!d(g.target).parents().andSelf().is(".ui-slider-handle")?{left:0,top:0}:{left:g.pageX-i.left-f.width()/2,top:g.pageY-i.top-f.height()/2-(parseInt(f.css("borderTopWidth"),10)||0)-(parseInt(f.css("borderBottomWidth"),10)||0)+(parseInt(f.css("marginTop"),
10)||0)};this.handles.hasClass("ui-state-hover")||this._slide(g,b,j);return this._animateOff=!0},_mouseStart:function(){return!0},_mouseDrag:function(d){var j=this._normValueFromMouse({x:d.pageX,y:d.pageY});this._slide(d,this._handleIndex,j);return!1},_mouseStop:function(d){this.handles.removeClass("ui-state-active");this._mouseSliding=!1;this._stop(d,this._handleIndex);this._change(d,this._handleIndex);this._clickOffset=this._handleIndex=null;return this._animateOff=!1},_detectOrientation:function(){this.orientation=
this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(d){var j;this.orientation==="horizontal"?(j=this.elementSize.width,d=d.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(j=this.elementSize.height,d=d.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0));j=d/j;j>1&&(j=1);j<0&&(j=0);this.orientation==="vertical"&&(j=1-j);d=this._valueMax()-this._valueMin();return this._trimAlignValue(this._valueMin()+j*d)},_start:function(d,
j){var e={handle:this.handles[j],value:this.value()};if(this.options.values&&this.options.values.length)e.value=this.values(j),e.values=this.values();return this._trigger("start",d,e)},_slide:function(d,j,e){var f;if(this.options.values&&this.options.values.length){f=this.values(j?0:1);if(this.options.values.length===2&&this.options.range===!0&&(j===0&&e>f||j===1&&e<f))e=f;e!==this.values(j)&&(f=this.values(),f[j]=e,d=this._trigger("slide",d,{handle:this.handles[j],value:e,values:f}),this.values(j?
0:1),d!==!1&&this.values(j,e,!0))}else e!==this.value()&&(d=this._trigger("slide",d,{handle:this.handles[j],value:e}),d!==!1&&this.value(e))},_stop:function(d,j){var e={handle:this.handles[j],value:this.value()};if(this.options.values&&this.options.values.length)e.value=this.values(j),e.values=this.values();this._trigger("stop",d,e)},_change:function(d,j){if(!this._keySliding&&!this._mouseSliding){var e={handle:this.handles[j],value:this.value()};if(this.options.values&&this.options.values.length)e.value=
this.values(j),e.values=this.values();this._trigger("change",d,e)}},value:function(d){if(arguments.length)this.options.value=this._trimAlignValue(d),this._refreshValue(),this._change(null,0);else return this._value()},values:function(g,j){var e,f,b;if(arguments.length>1)this.options.values[g]=this._trimAlignValue(j),this._refreshValue(),this._change(null,g);else if(arguments.length)if(d.isArray(arguments[0])){e=this.options.values;f=arguments[0];for(b=0;b<e.length;b+=1)e[b]=this._trimAlignValue(f[b]),
this._change(null,b);this._refreshValue()}else return this.options.values&&this.options.values.length?this._values(g):this.value();else return this._values()},_setOption:function(g,j){var e,f=0;if(d.isArray(this.options.values))f=this.options.values.length;d.Widget.prototype._setOption.apply(this,arguments);switch(g){case "disabled":j?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.prop("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.prop("disabled",
!1),this.element.removeClass("ui-disabled"));break;case "orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case "value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case "values":this._animateOff=!0;this._refreshValue();for(e=0;e<f;e+=1)this._change(null,e);this._animateOff=!1;break;case "min":case "max":this._animateOff=!0,this._refreshValue(),
this._animateOff=!1}},_value:function(){var d=this.options.value;return d=this._trimAlignValue(d)},_values:function(d){var j,e;if(arguments.length)j=this.options.values[d],j=this._trimAlignValue(j);else{j=this.options.values.slice();for(e=0;e<j.length;e+=1)j[e]=this._trimAlignValue(j[e])}return j},_trimAlignValue:function(d){if(d<=this._valueMin())return this._valueMin();if(d>=this._valueMax())return this._valueMax();var j=this.options.step>0?this.options.step:1,e=(d-this._valueMin())%j;d-=e;Math.abs(e)*
2>=j&&(d+=e>0?j:-j);return parseFloat(d.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var g,j,e,f,b,i=this.options.range,a=this.options,c=this,k=!this._animateOff?a.animate:!1,h={};if(this.options.values&&this.options.values.length)this.handles.each(function(b){j=(c.values(b)-c._valueMin())/(c._valueMax()-c._valueMin())*100;h[c.orientation==="horizontal"?"left":"bottom"]=j+"%";d(this).stop(1,1)[k?"animate":"css"](h,
a.animate);if(c.options.range===!0)if(c.orientation==="horizontal"){if(b===0)c.range.stop(1,1)[k?"animate":"css"]({left:j+"%"},a.animate);if(b===1)c.range[k?"animate":"css"]({width:j-g+"%"},{queue:!1,duration:a.animate})}else{if(b===0)c.range.stop(1,1)[k?"animate":"css"]({bottom:j+"%"},a.animate);if(b===1)c.range[k?"animate":"css"]({height:j-g+"%"},{queue:!1,duration:a.animate})}g=j});else{e=this.value();f=this._valueMin();b=this._valueMax();j=b!==f?(e-f)/(b-f)*100:0;h[this.orientation==="horizontal"?
"left":"bottom"]=j+"%";this.handle.stop(1,1)[k?"animate":"css"](h,a.animate);if(i==="min"&&this.orientation==="horizontal")this.range.stop(1,1)[k?"animate":"css"]({width:j+"%"},a.animate);if(i==="max"&&this.orientation==="horizontal")this.range[k?"animate":"css"]({width:100-j+"%"},{queue:!1,duration:a.animate});if(i==="min"&&this.orientation==="vertical")this.range.stop(1,1)[k?"animate":"css"]({height:j+"%"},a.animate);if(i==="max"&&this.orientation==="vertical")this.range[k?"animate":"css"]({height:100-
j+"%"},{queue:!1,duration:a.animate})}}})})(jQuery);
(function(d){var g=function(){var g=65,e={eventName:"click",onShow:function(){},onBeforeShow:function(){},onHide:function(){},onChange:function(){},onSubmit:function(){},color:"ff0000",livePreview:!0,flat:!1},f=function(a,c){var b=A(a);d(c).data("colorpicker").fields.eq(1).val(b.r).end().eq(2).val(b.g).end().eq(3).val(b.b).end()},b=function(a,c){d(c).data("colorpicker").fields.eq(4).val(a.h).end().eq(5).val(a.s).end().eq(6).val(a.b).end()},i=function(a,c){d(c).data("colorpicker").fields.eq(0).val(G(A(a))).end()},
a=function(a,c){d(c).data("colorpicker").selector.css("backgroundColor","#"+G(A({h:a.h,s:100,b:100})));d(c).data("colorpicker").selectorIndic.css({left:parseInt(150*a.s/100,10),top:parseInt(150*(100-a.b)/100,10)})},c=function(a,c){d(c).data("colorpicker").hue.css("top",parseInt(150-150*a.h/360,10))},k=function(a,c){d(c).data("colorpicker").currentColor.css("backgroundColor","#"+G(A(a)))},h=function(a,c){d(c).data("colorpicker").newColor.css("backgroundColor","#"+G(A(a)))},q=function(a){a=a.charCode||
a.keyCode||-1;if(a>g&&a<=90||a==32)return!1},w=function(e){var k=d(this).parent().parent(),q;if(this.parentNode.className.indexOf("_hex")>0){q=k.data("colorpicker");var g=this.value,j=6-g.length;if(j>0){for(var w=[],z=0;z<j;z++)w.push("0");w.push(g);g=w.join("")}g=F(E(g));q.color=q=g}else this.parentNode.className.indexOf("_hsb")>0?k.data("colorpicker").color=q=H({h:parseInt(k.data("colorpicker").fields.eq(4).val(),10),s:parseInt(k.data("colorpicker").fields.eq(5).val(),10),b:parseInt(k.data("colorpicker").fields.eq(6).val(),
10)}):(q=k.data("colorpicker"),g=parseInt(k.data("colorpicker").fields.eq(1).val(),10),j=parseInt(k.data("colorpicker").fields.eq(2).val(),10),w=parseInt(k.data("colorpicker").fields.eq(3).val(),10),g={r:Math.min(255,Math.max(0,g)),g:Math.min(255,Math.max(0,j)),b:Math.min(255,Math.max(0,w))},q.color=q=F(g));e&&(f(q,k.get(0)),i(q,k.get(0)),b(q,k.get(0)));a(q,k.get(0));c(q,k.get(0));h(q,k.get(0));e=k.get(0);d(e).data("colorpicker").fields.eq(7).removeAttr("checked").end();k.data("colorpicker").onChange.apply(k,
[q,G(A(q)),A(q)])},z=function(){d(this).parent().parent().data("colorpicker").fields.parent().removeClass("colorpicker_focus")},r=function(){g=this.parentNode.className.indexOf("_hex")>0?70:65;d(this).parent().parent().data("colorpicker").fields.parent().removeClass("colorpicker_focus");d(this).parent().addClass("colorpicker_focus")},L=function(a){var c=d(this).parent().find("input").focus(),a={el:d(this).parent().addClass("colorpicker_slider"),max:this.parentNode.className.indexOf("_hsb_h")>0?360:
this.parentNode.className.indexOf("_hsb")>0?100:255,y:a.pageY,field:c,val:parseInt(c.val(),10),preview:d(this).parent().parent().data("colorpicker").livePreview};d(document).bind("mouseup",a,u);d(document).bind("mousemove",a,m)},m=function(a){a.data.field.val(Math.max(0,Math.min(a.data.max,parseInt(a.data.val+a.pageY-a.data.y,10))));a.data.preview&&w.apply(a.data.field.get(0),[!0]);return!1},u=function(a){w.apply(a.data.field.get(0),[!0]);a.data.el.removeClass("colorpicker_slider").find("input").focus();
d(document).unbind("mouseup",u);d(document).unbind("mousemove",m);return!1},o=function(a){var c={cal:d(this).parent(),y:d(this).offset().top};c.preview=c.cal.data("colorpicker").livePreview;d(document).bind("mouseup",c,l);d(document).bind("mousemove",c,n);w.apply(c.cal.data("colorpicker").fields.eq(4).val(parseInt(360*(150-Math.max(0,Math.min(150,a.pageY-c.y)))/150,10)).get(0),[c.preview])},n=function(a){w.apply(a.data.cal.data("colorpicker").fields.eq(4).val(parseInt(360*(150-Math.max(0,Math.min(150,
a.pageY-a.data.y)))/150,10)).get(0),[a.data.preview]);return!1},l=function(a){f(a.data.cal.data("colorpicker").color,a.data.cal.get(0));i(a.data.cal.data("colorpicker").color,a.data.cal.get(0));d(document).unbind("mouseup",l);d(document).unbind("mousemove",n);return!1},p=function(a){var c={cal:d(this).parent(),pos:d(this).offset()};c.preview=c.cal.data("colorpicker").livePreview;d(document).bind("mouseup",c,x);d(document).bind("mousemove",c,s);w.apply(c.cal.data("colorpicker").fields.eq(6).val(parseInt(100*
(150-Math.max(0,Math.min(150,a.pageY-c.pos.top)))/150,10)).end().eq(5).val(parseInt(100*Math.max(0,Math.min(150,a.pageX-c.pos.left))/150,10)).get(0),[c.preview])},s=function(a){w.apply(a.data.cal.data("colorpicker").fields.eq(6).val(parseInt(100*(150-Math.max(0,Math.min(150,a.pageY-a.data.pos.top)))/150,10)).end().eq(5).val(parseInt(100*Math.max(0,Math.min(150,a.pageX-a.data.pos.left))/150,10)).get(0),[a.data.preview]);return!1},x=function(a){f(a.data.cal.data("colorpicker").color,a.data.cal.get(0));
i(a.data.cal.data("colorpicker").color,a.data.cal.get(0));d(document).unbind("mouseup",x);d(document).unbind("mousemove",s);return!1},B=function(){d(this).addClass("colorpicker_focus")},y=function(){d(this).removeClass("colorpicker_focus")},I=function(a){var c=d(this).parent(),b=c.data("colorpicker").color,i=!1;if(a.data!=void 0&&a.data.cancel!=void 0)i=a.data.cancel;c.data("colorpicker").origColor=b;k(b,c.get(0));a=c.data("colorpicker").fields.eq(7).attr("checked");c.data("colorpicker").onSubmit(b,
G(A(b)),A(b),c.data("colorpicker").el,a,i)},J=function(){var a,c,b,i,h=d("#"+d(this).data("colorpickerId"));h.data("colorpicker").onBeforeShow.apply(this,[h.get(0)]);var e=d(this).offset();i=document.compatMode=="CSS1Compat";a=window.pageXOffset||(i?document.documentElement.scrollLeft:document.body.scrollLeft);c=window.pageYOffset||(i?document.documentElement.scrollTop:document.body.scrollTop);b=window.innerWidth||(i?document.documentElement.clientWidth:document.body.clientWidth);i=window.innerHeight||
(i?document.documentElement.clientHeight:document.body.clientHeight);var k=e.top+this.offsetHeight,e=e.left;k+176>c+i&&(k-=this.offsetHeight+176);e+356>a+b&&(e-=356);h.css({left:e+"px",top:k+"px"});h.data("colorpicker").onShow.apply(this,[h.get(0)])!=!1&&h.show();d(document).bind("mousedown",{cal:h},M);return!1},M=function(a){if(!N(a.data.cal.get(0),a.target,a.data.cal.get(0))){try{a.data.cal.data("colorpicker").onHide.apply(this,[a.data.cal.get(0)])!=!1&&a.data.cal.hide()}catch(c){}d(document).unbind("mousedown",
M)}},N=function(a,c,b){if(a==c)return!0;if(a.contains)return a.contains(c);if(a.compareDocumentPosition)return!!(a.compareDocumentPosition(c)&16);for(c=c.parentNode;c&&c!=b;){if(c==a)return!0;c=c.parentNode}return!1},H=function(a){return{h:Math.min(360,Math.max(0,a.h)),s:Math.min(100,Math.max(0,a.s)),b:Math.min(100,Math.max(0,a.b))}},E=function(a){a=parseInt(a.indexOf("#")>-1?a.substring(1):a,16);return{r:a>>16,g:(a&65280)>>8,b:a&255}},F=function(a){var c={h:0,s:0,b:0},b=Math.min(a.r,a.g,a.b),d=Math.max(a.r,
a.g,a.b),b=d-b;c.b=d;c.s=d!=0?255*b/d:0;c.h=c.s!=0?a.r==d?(a.g-a.b)/b:a.g==d?2+(a.b-a.r)/b:4+(a.r-a.g)/b:-1;c.h*=60;c.h<0&&(c.h+=360);c.s*=100/255;c.b*=100/255;return c},A=function(a){var c,b,d;c=Math.round(a.h);var i=Math.round(a.s*255/100),a=Math.round(a.b*255/100);if(i==0)c=b=d=a;else{var i=(255-i)*a/255,h=(a-i)*(c%60)/60;c==360&&(c=0);c<60?(c=a,d=i,b=i+h):c<120?(b=a,d=i,c=a-h):c<180?(b=a,c=i,d=i+h):c<240?(d=a,c=i,b=a-h):c<300?(d=a,b=i,c=i+h):c<360?(c=a,b=i,d=a-h):d=b=c=0}return{r:Math.round(c),
g:Math.round(b),b:Math.round(d)}},G=function(a){var c=[a.r.toString(16),a.g.toString(16),a.b.toString(16)];d.each(c,function(a,b){b.length==1&&(c[a]="0"+b)});return c.join("")},v=function(){var e=d(this).parent(),k=e.data("colorpicker").origColor;e.data("colorpicker").color=k;f(k,e.get(0));i(k,e.get(0));b(k,e.get(0));a(k,e.get(0));c(k,e.get(0));h(k,e.get(0))};return{init:function(g){g=d.extend({},e,g||{});if(typeof g.color=="string")g.color=F(E(g.color));else if(g.color.r!=void 0&&g.color.g!=void 0&&
g.color.b!=void 0)g.color=F(g.color);else if(g.color.h!=void 0&&g.color.s!=void 0&&g.color.b!=void 0)g.color=H(g.color);else return this;return this.each(function(){if(!d(this).data("colorpickerId")){var e=d.extend({},g);e.origColor=g.color;var j="collorpicker_"+parseInt(Math.random()*1E3);d(this).data("colorpickerId",j);j=d('<div class="colorpicker"><div class="colorpicker_color"><div><div></div></div></div><div class="colorpicker_hue"><div></div></div><div class="colorpicker_new_color"></div><div class="colorpicker_current_color"></div><div class="colorpicker_hex"><input type="text" maxlength="6" size="6" /></div><div class="colorpicker_rgb_r colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_g colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_h colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_s colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div>\n                    <div class="colorpicker_transparent"><label><input type="checkbox">Transparent</label></div>\n                    <div class="colorpicker_submit">Ok</div>&nbsp<div class="colorpicker_close">Cancel</div><div class="colorpicker_TopClose"/></div>').attr("id",
j);e.flat?j.appendTo(this).show():j.appendTo(document.body);e.fields=j.find("input[type!=checkbox]").bind("keyup",q).bind("change",w).bind("blur",z).bind("focus",r);e.fields.push(j.find("input[type=checkbox]")[0]);j.find("span").bind("mousedown",L).end().find(">div.colorpicker_current_color").bind("click",v);e.selector=j.find("div.colorpicker_color").bind("mousedown",p);e.selectorIndic=e.selector.find("div div");e.el=this;e.hue=j.find("div.colorpicker_hue div");j.find("div.colorpicker_hue").bind("mousedown",
o);e.newColor=j.find("div.colorpicker_new_color");e.currentColor=j.find("div.colorpicker_current_color");j.data("colorpicker",e);j.find("div.colorpicker_submit").bind("mouseenter",B).bind("mouseleave",y).bind("click",{cancel:!1},I);j.find("div.colorpicker_close").bind("click",{cancel:!0},I);j.find("div.colorpicker_TopClose").bind("click",{cancel:!0},I);f(e.color,j.get(0));b(e.color,j.get(0));i(e.color,j.get(0));c(e.color,j.get(0));a(e.color,j.get(0));k(e.color,j.get(0));h(e.color,j.get(0));e.flat?
j.css({position:"relative",display:"block"}):d(this).bind(e.eventName,J)}})},showPicker:function(){return this.each(function(){d(this).data("colorpickerId")&&J.apply(this)})},hidePicker:function(){return this.each(function(){d(this).data("colorpickerId")&&d("#"+d(this).data("colorpickerId")).hide()})},setColor:function(e){if(typeof e=="string"){if(e=="transparent"){if(d(this).data("colorpickerId")){var q=d("#"+d(this).data("colorpickerId"));d(q).data("colorpicker").fields.eq(7).attr("checked","checked").end()}e=
"#000000"}e=F(E(e))}else if(e.r!=void 0&&e.g!=void 0&&e.b!=void 0)e=F(e);else if(e.h!=void 0&&e.s!=void 0&&e.b!=void 0)e=H(e);else return this;return this.each(function(){if(d(this).data("colorpickerId")){var q=d("#"+d(this).data("colorpickerId"));q.data("colorpicker").color=e;q.data("colorpicker").origColor=e;f(e,q.get(0));b(e,q.get(0));i(e,q.get(0));c(e,q.get(0));a(e,q.get(0));k(e,q.get(0));h(e,q.get(0))}})}}}();d.fn.extend({ColorPicker:g.init,ColorPickerHide:g.hidePicker,ColorPickerShow:g.showPicker,
ColorPickerSetColor:g.setColor})})(jQuery);
(function(d,g,j,e){var f=AC.Widgets.DatePicker=AC.Widgets.WiziCore_UI_DatePickerWidget=function(){this.init.apply(this,arguments)};AC.extend(f,AC.Widgets.Base);var b=f.prototype;AC.copyExtension(b,AC.WidgetExt.DataIntegration.Interval);b._widgetClass="DatePicker";b._input=null;b._dateDiv=null;b._canClose=null;b._tDefDates=null;b._dataPropName="dateValue";b._valueDefaultPropName="dateValue";b._currentDateValue=null;b._isTyped=!1;b.init=function(){f._sc.init.apply(this,arguments)};b.initProject=function(a){f._sc.initProject.apply(this,
arguments);this._currentDateValue=this.getDatesFromStrings(this._project.dateValue,"yy-mm-dd")};b.project=function(a){var c=f._sc.project.apply(this,arguments);c.dateValue=this.getStringsFromDates(this._currentDateValue,"yy-mm-dd");return c};b.onContainerChangeLayout=function(){this.getContainerLayoutType()==AC.WidgetExt.Layout.LAYOUT_TYPES.Absolute?this._input.width(this.width()):this._input.width("100%")};b.draw=function(){var a=this,c=d("<input class='input clear-input-border' style='width:100%; height:100%; border: 0; outline: none;'>");
this.base().prepend(c);this._input=c;this._dateDiv=null;c.focus(function(){a._dateDiv==null&&a.showDatePicker()});c.blur(function(){a.onFocusOut()});c.bind("keyup",function(c){if(c.which==13)a.onFocusOut();a._isTyped=!0});f._sc.draw.apply(this,arguments)};b._updateLayout=function(){f._sc._updateLayout.apply(this,arguments);this._input.height(this.height());d.browser.msie&&this._input.css("line-height",this.height()+"px")};b.isInterval=function(){return this.range()};b._setDateValue=function(a){var c,
b;jQuery.isArray(a)||(a=[a]);if(a[0]&&typeof a[0]=="string"||a[1]&&typeof a[1]=="string"){var d=this.getDatesFromStrings(a,this.dateFormat()),i=!1;for(c=0,b=a.length;c<b;c++)if(a[c]==d[c]||d[c]==null&&a[c]!=null){i=!0;break}if(i){d=null;for(c=0,b=a.length;c<b;c++)if(d=new Date(a[c]),isNaN(d.getDate()))return;else a[c]=d}else a=d}for(c=0,b=a.length;c<b;c++)if(a[c]&&typeof a[c]=="object"&&typeof a[c].getTime!="function")return;this._currentDateValue=a;c={};c.dateValue=a;this.sendExecutor(c);this._isDrawn&&
this._dateValue(a)};b.dateValue=function(a){a!==e&&this._setDateValue(a);var a=this._currentDateValue,c=null;if(a!=null){c=[];jQuery.isArray(a)||(a=[a]);for(var b=0,d=a.length;b<d;b++)if(a[b]!=e){var i=typeof a[b]=="string"?new Date(a[b]):new Date(a[b].getTime());c.push(i)}c=c.length==0?null:c;!this.range()&&c!=null&&c[0]!=e&&(c=c[0])}return c};b.initDomState=function(){f._sc.initDomState.call(this);this.initDomStatePos();this._bg(this.bg());this._font(this.font());this._fontColor(this.fontColor());
this._borderRadius(this.borderRadius());this._border(this.border());this._updateEnable();this._visible(this.visible());this._shadow(this.shadow());this._opacity(this.opacity());this._tabindex(this.tabindex());this._updateReadonly();this._dateValue(this.dateValue());this._dateFormat(this.dateFormat())};b.showDatePicker=function(){var a=this,c=this.readonly();a.traverseParent(function(a){typeof a.readonly=="function"&&(c=c||a.readonly())});if(c!==!0){if(this._dateDiv!=null)this._dateDiv.remove(),this._dateDiv=
null;var b=d("<div>");this._dateDiv=b;var i=this._input.offset().left,e=this._input.offset().top-0+this._input.parent().height();b.css({position:"absolute",left:parseFloat(i),top:parseFloat(e),height:"auto",width:"auto","z-index":1E4});b.hide();d(j.body).append(b);var k=d("<div>");b.append(k);b.mousedown(function(c){a._canClose=!1;c.stopPropagation()});b.click(function(a){a.stopPropagation()});a._canClose=!0;var f=new Date;a.dateValue()!=null&&(f=this.range()?new Date(a.dateValue()[0]):new Date(a.dateValue()));
var u=!0,f={onSelect:function(c,b){if(!u)a.onSelectDialogDate(b)},onClose:function(c){this._dateDiv!=null&&!u&&a._input.val(c)},showButtonPanel:!0,changeMonth:!0,changeYear:!0,showOtherMonths:!0,selectOtherMonths:!0,defaultDate:f},o={},n=this.dateMin(),l=this.dateMax(),p=/([\d]+)\/([\d]+)\/([\d]+)/;if(n!=null)n=n.match(p),n=new Date(n[3],n[1]-1,n[2]),f.minDate=n;if(l!=null)l=l.match(p),l=new Date(l[3],l[1]-1,l[2]),f.maxDate=l;n=n!=null?n.getFullYear()+"":"c-10";l=l!=null?l.getFullYear()+"":"c+10";
f.yearRange=n+":"+l;if(this.range())o.numberOfMonths=2;jQuery.extend(f,o);k.datepicker(f);d("#ui-datepicker-div").hide();a.callAppendCloseBtn(b);k=parseInt(b.width());f=parseInt(d(g).width());i=parseInt(i);b.css("left",k+i>f?f-k-20:i);k=parseInt(b.height());f=parseInt(d(g).height());i=parseInt(e);b.css("top",k+i>f?f-k-20:i);b.fadeIn("slow");u=!1}};b.onSelectDialogDate=function(a){var c=this._tDefDates;c==null&&(c={cnt:0});this._tDefDates=c;var a=new Date(a.selectedYear,a.selectedMonth,a.selectedDay),
b=null;if(this.range()){c.cnt++;if(c.cnt==1)c.f1=a;if(c.cnt==2)c.f2=a,a=[c.f2,c.f1],c.f2.getTime()>c.f1.getTime()&&(a=[c.f1,c.f2]),b=a}else b=a;b!=null&&this.destroyDatePickerDialog("slow",b);this._canClose=!0};b.onFocusOut=function(){this._canClose&&(this.setTypedDateValue(),this.destroyDatePickerDialog("slow"))};b.callAppendCloseBtn=function(a){var c=this,b=d.datepicker._updateDatepicker;d.datepicker._updateDatepicker=function(d){b.apply(this,[d]);c.appendCloseBtn(a)};c.appendCloseBtn(a)};b.appendCloseBtn=
function(a){var c=this,a=a.find(".ui-datepicker-buttonpane"),b=AC.Core.lang().trText("dialog_button_clear");a.find("button").size()<2&&(b=d('<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all">'+b+"</button>"),b.css("float","right"),b.hover(function(){d(this).addClass("ui-state-hover")},function(){d(this).removeClass("ui-state-hover")}),b.click(function(){c.destroyDatePickerDialog(e,null)}),a.append(b))};b.destroyDatePickerDialog=function(a,c){acDebugger.systemLog("destroyDatePickerDialog");
if(this._dateDiv!=null)this._dateDiv.fadeOut(a),this._dateDiv.find("div").datepicker("hide"),this._dateDiv.find("div").datepicker("destroy"),this._dateDiv.remove(),this._dateDiv=null,this.onClose(c);this._tDefDates={};this._tDefDates.cnt=0};b.onRemove=function(){this.destroyDatePickerDialog();this._checkRepeatBeforeRemove()};b.setFocus=function(){this._input!=null&&d(this._input).focus()};b.selectContents=function(){this._isDrawn&&this.mode()!=AC.Visualizer.EDITOR_MODE&&this._input.select()};b.getStringsFromDates=
function(a,c){var b=[];if(jQuery.isArray(a))for(var d=0;d<2&&d<a.length;++d)b[d]=jQuery.datepicker.formatDate(c,a[d]);return b};b.getDatesFromStrings=function(a,c){var b=[];if(jQuery.isArray(a))for(var d=0;d<2&&d<a.length;++d)try{b[d]=jQuery.datepicker.parseDate(c,a[d])}catch(i){acDebugger.systemLog("datePicker parseDate ",i);b=this.range()?[null,null]:[null];break}return b};b.onClose=function(a){try{var c=this.dateValue(),b=new jQuery.Event(f.onClose);if(a!=e)this.onSelectDate(a);d(this).trigger(b,
[a,c])}catch(i){acDebugger.systemLog1("onClose",i)}};b.onSelectDate=function(a){this.dateValue(a);var c=new jQuery.Event(f.onSelectDate);d(this).trigger(c,[a]);this.sendDrillDown()};b._bg=function(a){f._sc._bg.call(this,a);f._sc._bg.call(this,a,this._input)};b._fontColor=function(a){f._sc._fontColor.call(this,a);f._sc._fontColor.call(this,a,this._input)};b._dateValue=function(a){jQuery.isArray(a)||(a=[a]);var c=this.dateFormat(),c=typeof c=="object"&&c.value!=e?c.value:c;if(jQuery.isArray(a)){var b=
a[0];typeof b=="string"&&(b=new Date(b));b=jQuery.datepicker.formatDate(c,b);a[1]!=e&&(a=a[1],typeof a=="string"&&(a=new Date(a)),b+=" - "+jQuery.datepicker.formatDate(c,a));this._input.val(b)}};b.setTypedDateValue=function(){if(this._isTyped){this._isTyped=!1;var a=[],c=this._input.val(),b=this.dateFormat(),b=typeof b=="object"&&b.value!=e?b.value:b;if(this.range()){if((c=/([\w\W]+) - ([\w\W]+)/.exec(c))!=null)a=this.getDatesFromStrings([c[1],c[2]],b)}else a=this.getDatesFromStrings([c],b);this.onSelectDate(a)}};
b._readonly=function(){var a=this.readonly()||this.disableKeyboardEntry();f._sc._readonly.call(this,a,this._input)};b._enable=function(a){f._sc._enable.call(this,a,this._input)};b._dateFormat=function(){this._dateValue(this.dateValue())};b.collectDataSchema=function(a){if(!this.isIncludedInSchema())return e;if(this.range()===!0){var c={label:null,type:AC.Widgets.WiziCore_Api_Form.Kind.SIMPLE,structure:AC.Widgets.WiziCore_Api_Form.Type.DATE},c={label:this.name(),type:AC.Widgets.WiziCore_Api_Form.Kind.OBJECT,
structure:{begin:c,end:c},unique:this.isUnique()};this.mandatory()&&(c.mandatory=!0);return a[this.id()]=c}else return this._simpleConstDataSchema(AC.Widgets.WiziCore_Api_Form.Type.DATE,a)};b.appendValueToDataObject=function(a,c,b){var i=this;return this._simpleDataObjectValue(a,b,function(a){if(a==null||d.isArray(a)&&a.length==0)return i.mandatory()&&(c[i.id()]=!0),null;var b=i.datePickerType(),e=i.dateTimezone(),h=b in{datetime:1},b=b=="datetime",k=null;i.range()&&a!=null?k={begin:WiziCore_Helper.isoDateString(i.form(),
a[0],h,b,e),end:WiziCore_Helper.isoDateString(i.form(),a[1],h,b,e)}:(a=d.isArray(a)?a[0]:a,k=WiziCore_Helper.isoDateString(i.form(),a,h,b,e));return k})};b.setValueFromDataObject=function(a,c){var b=this;this._setDataObjectValueSimple(a,function(a){var c=a!=e;c&&(c=b.range()?typeof a.begin=="string"&&typeof a.end=="string":typeof a=="string");if(!c)return b.resetValue(),e;var c=b.datePickerType()=="datetime",d=b.dateTimezone();return b.range()?[WiziCore_Helper.parseUTCISO8601(b.form(),a.begin,c,d),
WiziCore_Helper.parseUTCISO8601(b.form(),a.end,c,d)]:[WiziCore_Helper.parseUTCISO8601(b.form(),a,c,d)]},c)};b.getDataModel=function(){var a=[];return a=this.range()?[{name:"Value Left",value:"",uid:"valueuid"},{name:"Value Right",value:"",uid:"valueuid1"}]:this._valueDataModel()};b.rdbValueDataModel=function(){return this.range()?[{name:"Begin",value:"",uid:"begin"},{name:"End",value:"",uid:"end"}]:null};b.isBindableToData=function(){return!0};b._rdbValueToValue=function(a){var c=a!=e;c&&(c=this.range()?
(typeof a.begin=="string"||this._isDateObject(a.begin))&&(typeof a.end=="string"||this._isDateObject(a.end)):typeof a=="string"||this._isDateObject(a));return!c?null:this.range()?[this._isDateObject(a.begin)?a.begin:WiziCore_Helper.mysqlTimeStampToDate(a.begin),this._isDateObject(a.end)?a.end:WiziCore_Helper.mysqlTimeStampToDate(a.end)]:[this._isDateObject(a)?a:WiziCore_Helper.mysqlTimeStampToDate(a)]};b._isDateObject=function(a){return typeof a=="object"&&typeof a.getTime=="function"};b.rdbValue=
function(a){a!==e&&this.value(this._rdbValueToValue(a))};b._tabindex=function(a){f._sc._tabindex.call(this,a,this._input)};b._tabStop=function(a){f._sc._tabStop.call(this,a,this._input)};b.isIncludedInSchema=AC.Property.normal("isIncludedInSchema",this._updateStorageFlag);b.isUnique=AC.Property.normal("isUnique");b.mandatory=AC.Property.normal("mandatory");b.font=AC.Property.theme("font",b._font);b.border=AC.Property.theme("border",b._border);b.borderRadius=AC.Property.theme("borderRadius",b._borderRadius);
b.fontColor=AC.Property.theme("fontColor",b._fontColor);b.bg=AC.Property.theme("bgColor",b._bg);b.shadow=AC.Property.theme("shadow",b._shadow);b.opacity=AC.Property.theme("opacity",b._opacity);b.tabindex=AC.Property.html("tabindex",b._tabindex);b.readonly=AC.Property.html("readonly",b._readonly);b.disableKeyboardEntry=AC.Property.html("disableKeyboardEntry",b._readonly);b.range=AC.Property.normal("range");b.dateFormat=AC.Property.html("dateFormat",b._dateFormat);b.datePickerType=AC.Property.normal("datePickerType");
b.dateTimezone=AC.Property.normal("dateTimezone");b.value=b.dateValue;b.dateMin=AC.Property.normal("dateMin");b.dateMax=AC.Property.normal("dateMax");b.view=AC.Property.normal("view");b.fields=AC.Property.normal("fields");b.groupby=AC.Property.normal("groupby");b.orderby=AC.Property.normal("orderby");b.filter=AC.Property.normalPropBeforeSet("filter",b._filterBefore);b.resetfilter=AC.Property.normal("resetfilter");b.listenview=AC.Property.normal("listenview");b.applyview=AC.Property.normal("applyview");
b.onview=AC.Property.normal("onview");f.onClose="E#DatePickerWidget#onClose";f.onSelectDate="E#DatePickerWidget#onSelectDate";var i={onClose:{alias:"widget_event_onclose",funcview:"onClose",action:"AC.Widgets.DatePicker.onClose",params:"value",group:"widget_event_general"},onSelectDate:{alias:"widget_event_onselectdate",funcview:"onSelectDate",action:"AC.Widgets.DatePicker.onSelectDate",params:"value",group:"widget_event_general"},dataLoaded:{alias:"widget_event_ondataloaded",funcview:"onDataLoaded",
action:"AC.Widgets.Base.onDataLoaded",params:"error, data",group:"widget_event_data",sweight:5},dataReset:{alias:"widget_event_ondatareset",funcview:"onDataReset",action:"AC.Widgets.Base.onDataReset",params:"",group:"widget_event_data"}},i=jQuery.extend({},AC.Widgets.Base.actions(),i),a=[{name:AC.Property.group_names.general,props:[AC.Property.general.widgetClass,AC.Property.general.name]},{name:AC.Property.group_names.database,props:[AC.Property.database.isIncludedInSchema,AC.Property.database.isUnique,
AC.Property.database.mandatory,AC.Property.database.mandatoryHighlight,AC.Property.database.datePickerType]},{name:AC.Property.group_names.layout,props:[AC.Property.layout.x,AC.Property.layout.y,AC.Property.layout.pWidthHidden,AC.Property.layout.widthHidden,AC.Property.layout.heightHidden,AC.Property.layout.sizes,AC.Property.layout.minWidth,AC.Property.layout.maxWidth,AC.Property.layout.repeat,AC.Property.layout.zindex,AC.Property.layout.tabindex,AC.Property.layout.tabStop,AC.Property.layout.anchors,
AC.Property.layout.alignInContainer]},{name:AC.Property.group_names.behavior,props:[AC.Property.behavior.dragAndDrop,AC.Property.behavior.resizing,AC.Property.behavior.visible,AC.Property.behavior.enable,AC.Property.behavior.readonly,{name:"disableKeyboardEntry",type:"boolean",set:"disableKeyboardEntry",get:"disableKeyboardEntry",alias:"widget_datepicker_disable_keyboard"},AC.Property.behavior.range,AC.Property.behavior.dateMin,AC.Property.behavior.dateMax,AC.Property.behavior.dateValue,AC.Property.behavior.dateFormat,
AC.Property.behavior.dateTimezone]},{name:AC.Property.group_names.data,props:[AC.Property.data.view,AC.Property.data.fields,AC.Property.data.groupby,AC.Property.data.orderby,AC.Property.data.filter,AC.Property.data.onview,AC.Property.data.applyview,AC.Property.data.listenview,AC.Property.data.resetfilter,AC.Property.data.autoLoad]},{name:AC.Property.group_names.style,props:[AC.Property.behavior.opacity,AC.Property.style.shadow,AC.Property.style.font,AC.Property.style.fontColor,AC.Property.style.margin,
AC.Property.style.boxSizing,AC.Property.style.border,AC.Property.style.bgColor,AC.Property.general.displayHourglassOver,AC.Property.general.hourglassImage,AC.Property.style.customCssClasses,AC.Property.style.widgetStyle]}],c={bgColor:"#f7f7f7",fontColor:"black",font:"normal 12px verdana",border:"1px solid gray"},k={valName:"currVal",dateValue:[],width:140,height:20,x:"100",y:"50",zindex:"auto",anchors:{left:!0,top:!0,bottom:!1,right:!1},visible:!0,range:!1,opacity:1,enable:!0,readonly:!1,widgetStyle:"default",
name:"DatePicker1",pWidth:"",hourglassImage:"Default",displayHourglassOver:"inherit",customCssClasses:"",margin:"",alignInContainer:"left",dragAndDrop:!1,resizing:!1,dateFormat:"mm/dd/yy",dateTimezone:"local",dateMin:null,dateMax:null,shadow:"",disableKeyboardEntry:!1,boxSizing:"border-box"};f.props=function(){return a};f.emptyProps=function(){return c};f.defaultProps=function(){return k};f.actions=function(){return i};f.inlineEditPropName=function(){return"dateValue"};f.isField=function(){return!0}})(jQuery,
window,document);
(function(d,g,j,e){var f=AC.Widgets.WiziCore_UI_ListBoxWidget=AC.Widgets.ListBoxWidget=AC.Widgets.Base.extend(d.extend({},WiziCore_WidgetAbstract_DataIntegrationList,WiziCore_Source_Widget_PagingAPI,{_widgetClass:"WiziCore_UI_ListBoxWidget",_div:null,_ol:null,_reloadData:!1,_dataPropName:"data",_isMultiSelectLive:null,init:function(){this._super.apply(this,arguments);this._isMultiSelectLive=this.multiSelect();"selectedIndices"in this._project||(this._project.selectedIndices={})},_onInitLanguage:function(){this._stopDropIndices=
!0;this.data(this.data());this._selectIndicesSet(this._project.selectedIndices);this._stopDropIndices=!1},_onSTUpdated:function(){this._data(this._project.data)},draw:function(){this._div=d("<div>").css({overflow:"auto",width:"100%",height:"100%","-moz-user-select":"none","-khtml-user-select":"none"}).attr("unselectable","on");d.browser.msie&&this._div.css("overflow-x","hidden");this.base().prepend(this._div);this.mode()==WiziCore_Visualizer.RUN_MODE&&this._query!=null&&this._query.loadData();this._super.apply(this,
arguments)},initProps:function(){this._super();this.isIncludedInSchema=this.normalProperty("isIncludedInSchema",this._updateStorageFlag);this.dataType=this.normalProperty("dataType");this.isUnique=this.normalProperty("isUnique");this.mandatory=this.normalProperty("mandatory");this.font=this.themeProperty("font",this._font);this.fontColor=this.themeProperty("fontColor",this._fontColor);this.border=this.themeProperty("border",this._border);this.bg=this.themeProperty("bgColor",this._bg);this.lineSpace=
this.themeProperty("lineSpace",this._lineSpace);this.selectedBg=this.themeProperty("selectedBg",this._selectedBg);this.selectedFont=this.themeProperty("selectedFont",this._selectedFont);this.selectedColor=this.themeProperty("selectedColor",this._selectedColor);this.multiSelect=this.htmlProperty("multySelect",this._multiSelect);this.opacity=this.themeProperty("opacity",this._opacity);this.shadow=this.themeProperty("shadow",this._shadow);this.currPage=this.normalPropBeforeSet("currPage",this._currPage);
this.elementsPerPage=this.normalPropBeforeSet("elementsPerPage",this._elementsPerPage);this.usePaging=this.normalProperty("usePaging",this._updateDataByPaging);this.view=this.normalProperty("view");this.fields=this.normalProperty("fields");this.groupby=this.normalProperty("groupby");this.orderby=this.normalProperty("orderby");this.filter=this.normalPropBeforeSet("filter",this._filterBefore);this.resetfilter=this.normalProperty("resetfilter");this.listenview=this.normalProperty("listenview");this.applyview=
this.normalProperty("applyview");this.onview=this.normalProperty("onview")},dataWithValue:function(b){var a,c,d,h,f,g;if(b!=e){if(b.rows!==e){d=[];h={};for(a=0,c=b.rows.length;a<c;++a)f=b.rows[a],d[a]=[f.data[0],f.data[1]],d[a].userData=f.data.userData,+f.data[2]&&(h[a]=!0);this._stopDropIndices=!0;this.data(d);this._stopDropIndices=!1;this._selectIndicesSet(h)}}else g=this._getDataWithValue();return g},_getDataWithValue:function(){var b,a,c,d,e;b=this.data();c=this._project.selectedIndices;var f=
[];for(d=0,e=b.length;d<e;++d)a=b[d],f[d]=[a[0],a[1],!!c[d]],f[d].userData={id:d};return f},_beforeData:function(b){var i;if(!d.isArray(b))return b;var a,c,f;a=this.form();c=a._showLngTokens;var h=a.language()!=null;a._showLngTokens=!0;f=this.data();a._showLngTokens=c;if(h&&!a._skipTokenCreation)for(a=0,c=b.length;a<c;a++){var h=b[a].userData&&b[a].userData.id!=e?b[a].userData.id:null,g;WiziCore_Helper.isLngToken(b[a][0])||(i=(g=h!=null&&WiziCore_Helper.isLngToken(f[h][0]))?f[h][0]:WiziCore_Helper.generateId(10,
"ac-"),h=i,this.form().addTokenToStringTable(this.id(),this.name(),h,b[a][0]),b[a][0]=h);if(b[a].userData!=e)b[a].userData=e}return b},_afterGet:function(b){b=WiziCore_Helper.clone(b);if(d.isArray(b))for(var a=0,c=b.length;a<c;a++)b[a][0]=this._getTranslatedValue(b[a][0]);return b},data:function(b){if(b!=e){if(b.rows!==e){for(var a=[],c=0,d=b.rows.length;c<d;++c)a[c]=[b.rows[c].data[0],b.rows[c].data[1]],b.rows[c].data[2]!==e&&a[c].push(b.rows[c].data[2]);b=a}this._stopDropIndices||(this._project.selectedIndices=
{})}b=b===null?[]:b;return this.htmlPropertyBeforeSetAfterGet("data",this._beforeData,this._data,this._afterGet).call(this,b)},initDomState:function(){this._super();this.initDomStatePos();this._bg(this.bg());this._border(this.border());this._font(this.font());this._fontColor(this.fontColor());this._data(this._project.data);this._shadow(this.shadow());this._lineSpace(this.lineSpace());this._multiSelect(this.multiSelect());this._updateEnable();this._visible(this.visible());this._opacity(this.opacity());
var b=this._project.selectedIndices;if(WiziCore_Helper.objectIsEmpty(b)){var a=this.data(),b={};if(a!=e)for(var c=0,d=a.length;c<d;++c)a[c][2]&&(b[c]=!0)}this._selectItemsByIndicesSet(b)},_updateLayout:function(){this._super();this._div.height(this.height())},addItem:function(b){if(b!=null&&b.value!=null&&b.label!=null){var a=this.data();a==null&&(a=[]);a.push([b.value,b.label]);this.data(a)}},deleteSelItems:function(){if(this._ol!=null){var b=[];this._ol.find("li.ui-selected").each(function(){b.splice(0,
0,d(this).attr("ident"));d(this).remove()});var a=this.data();if(jQuery.isArray(a)){for(var c in b)a.splice(b[c],1);this.data(a)}}},getSelectedItems:function(){var b=[];this._ol!=null&&this._ol.find("li.ui-selected").each(function(){b.splice(0,0,d(this).attr("val"))});return b},clear:function(){this._ol!=null&&this._ol.find("li").each(function(){d(this).remove()});this.data([])},deleteItems:function(b){var a=this.data();if(a!=null&&b!=e){for(var c in b)a[b[c]]!=e&&a.splice(b[c],1);this.data(a)}},
onStop:function(){try{var b=[],a={},c=this.multiSelect(),k=this._project.selectedIndices,h=[];this._ol.find("li").each(function(){var e=d(this),f=e.hasClass("ui-selected"),g=+e.attr("ident");g in k&&h.push({index:g,value:e.attr("val"),label:e.text()});if(f&&(c||b.length==0))b.push({index:g,value:e.attr("val"),label:e.text()}),a[g]=!0});c||(b=b[0]!=e?b[0]:null,h=h[0]?h[0]:null);var g=new jQuery.Event(f.onStop);d(this).trigger(g,[b]);var j=g.isPropagationStopped();if(!j&&!WiziCore_Helper.objectsAreEqual(k,
a))this._project.selectedIndices=a,d(this).trigger(f.onSelectValue,[b,h]),this.sendDrillDown()}catch(z){acDebugger.systemLog1("err in listbox!!!",z)}return!j},selectItemsByValues:function(b){var a=this._div;a!=null&&a.find("li").each(function(){d.inArray(d(this).attr("val"),b)!=-1?d(this).addClass("ui-selected"):d(this).removeClass("ui-selected")})},onRequestResetFilter:function(){this.base().find(".ui-selected").removeClass("ui-selected")},onRequestReloadData:function(){var b=[],a=this.base();d(".ui-selected",
a).each(function(){b.push(d(this).attr("val"))});this._reloadData=b},_data:function(b){var a=jQuery.fn.__useTr;jQuery.fn.__useTr=!1;var c=this,f=this._div;this._ol!=null&&this._ol.selectable("destroy");f.empty();f.hide();var h=d('<ol style="width:100% ">');if(jQuery.isArray(b)){var g=0,j=b.length;if(this.usePaging()&&(j=this._getStartAndLength(j),g=j.i,j=j.l,this.mode()==WiziCore_Visualizer.EDITOR_MODE&&b[g]==e))j=this._getDefaultStartAndLength(b.length),g=j.i,j=j.l;for(;g<j;g++){var z=b[g][1]?WiziCore_Helper.escapeHTMLtags(b[g][1]):
"",r=b[g][0]?b[g][0].replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"):"",z=WiziCore_Helper.isLngToken(r)?d("<li>").attr({val:z,ident:g,"data-lng":r}).text(this._getTranslatedValue(r)):d("<li>").attr({val:z,ident:g}).text(r);z.click(function(){d(this).focus()});h.append(z)}}h.selectable({selected:function(a,b){b.selected&&c._setItemCss(d(b.selected))},unselected:function(a,b){b.unselected&&c._setItemCss(d(b.unselected),!0)},stop:function(a,b){c.onStop(this,b)},multiple:c.multiSelect()});
this.enable()===!1&&h.selectable("disable");this._ol=h;f.append(h);f.show();jQuery.fn.__useTr=a},_enable:function(b){this._ol!=null&&(b===!1?this._ol.selectable("disable"):this._ol.selectable("enable"))},_multiSelect:function(b){this._ol!=null&&this._ol.selectable("option","multiple",b)},_lineSpace:function(b){if(this._ol!=null){var b=parseInt(b,10),a=this.base(),c=a.data("list-line-spacing-");a.removeClass("list-line-spacing-"+c);a.data("list-line-spacing-",b);a.addClass("list-line-spacing-"+b)}},
_setItemCss:function(b,a){a?b.css({"background-color":"",font:"",color:""}):b.css({"background-color":this.selectedBg(),font:this.selectedFont(),color:this.selectedColor()})},_selectedBg:function(b){this._ol!=null&&this.base().find(".ui-selected, .ui-selecting").css("background-color",b)},_selectedFont:function(b){this._ol!=null&&this.base().find(".ui-selected, .ui-selecting").css("font",b)},_selectedColor:function(b){this._ol!=null&&this.base().find(".ui-selected, .ui-selecting").css("color",b)},
_selectItemsByIndicesSet:function(b){var a=this._div,c=this;a!=null&&a.find("li").each(function(){var a=d(this),e=+a.attr("ident");b[e]?(a.addClass("ui-selected"),c._setItemCss(a)):(c._setItemCss(a,!0),a.removeClass("ui-selected"))})},value:function(b){var a=this.data();if(a==e)return e;var c=a.length,d=this.multiSelect(),h;if(b!==e){var b=typeof b=="number"?b+"":b,b=typeof b=="string"?[{value:b}]:b,b=b===null?[]:b,b=jQuery.isArray(b)?b:[b],f={},g={},j={};for(h=0;h<b.length;++h){var r=b[h].index,
r=r==e?r:+r,L=b[h].value,m=b[h].label;r!=e?f[r]=!0:L!=e?g[L]=!0:m!=e&&(j[m]=!0)}for(h=0;h<c;++h)b=a[h],r=b[0],g[b[1]]&&(f[h]=!0),j[r]&&(f[h]=!0);this._selectIndicesSet(f)}c=[];if(this._project.selectedIndices!=null)for(h in this._project.selectedIndices)if(this._project.selectedIndices&&(f=a[h],f!=e&&(c.push({index:h,value:f[1],label:f[0]}),!d)))break;d||(c=c.length>0?c[0]:null);return c},_selectIndicesSet:function(b){if(!this.multiSelect()){var a={},c;for(c in b)if(b.hasOwnProperty(c)&&b[c]){a[c]=
!0;break}b=a}this._project.selectedIndices=b;this._isDrawn&&this._selectItemsByIndicesSet(b)},resetValue:function(){this._project.selectedIndices={};this._selectItemsByIndicesSet({})},collectDataSchema:function(b){if(!this.isIncludedInSchema())return e;var a=this.multiSelect(),c=this.dataType()||AC.Widgets.WiziCore_Api_Form.Type.STRING,a={label:this.name(),type:a?AC.Widgets.WiziCore_Api_Form.Kind.OBJECT_LIST:AC.Widgets.WiziCore_Api_Form.Kind.OBJECT,structure:{value:{label:"value",type:AC.Widgets.WiziCore_Api_Form.Kind.SIMPLE,
structure:c},label:{label:"label",type:AC.Widgets.WiziCore_Api_Form.Kind.SIMPLE,structure:AC.Widgets.WiziCore_Api_Form.Type.STRING}},unique:this.isUnique()};this.mandatory()&&(a.mandatory=!0);return b[this.id()]=a},appendValueToDataObject:function(b,a,c){if(!c&&!this.isIncludedInSchema())return e;var c=this.data(),d=null,h=this._isMultiSelectLive;h&&(d={columns:["value","label"],rows:[]});for(var f in this._project.selectedIndices)if(this._project.selectedIndices){var g=c[f];g!=e&&(h?d.rows.push({data:[g[1],
g[0]]}):d={value:g[1],label:g[0]});if(!h)break}if(this.mandatory()&&(d==null||h&&d.rows.length==0))a[this.id()]=!0;d!==e&&(b[this.id()]=d);return!0},setValueFromDataObject:function(b,a){if(a||this.isIncludedInSchema()){var c=this._getValueFromDataObject(b);if(c===null)this.resetValue();else if(c!==e){var f={},h,g;if(c.columns!=e&&c.rows!=e)for(h=0,g=c.rows.length;h<g;++h)f[c.rows[h][0]]=!0;else if(typeof c=="object"&&"value"in c)f[c.value]=!0;else if(d.isArray(c))for(h=0,g=c.length;h<g;++h)f[c[h]]=
!0;else f[c]=!0;var c=this.data(),j={};for(h=0,g=c.length;h<g;++h)f[c[h][1]]&&(j[h]=!0);this._selectIndicesSet(j)}}},empty:function(){this.reset();this.reset();this.setData([])},getDataFromMap:function(b,a){for(var c=[],d=0,h=b.length;d<h;d++){var f=[],g;for(g in a){var j=a[g];j!=e&&(f[g]=AC.Widgets.Base.getDataItemWithMap(b[d],j))}c.push(f)}return c}}));f.inlineEditPropName=function(){return"data"};var b=[{name:AC.Property.group_names.general,props:[AC.Property.general.widgetClass,AC.Property.general.name,
AC.Property.general.elementsPerPage,AC.Property.general.currPage,AC.Property.general.usePaging,AC.Property.general.dataWithValue,AC.Property.general.multiSelect]},{name:AC.Property.group_names.database,props:[AC.Property.database.isIncludedInSchema,AC.Property.database.dataType,AC.Property.database.isUnique,AC.Property.database.mandatory]},{name:AC.Property.group_names.layout,props:[AC.Property.layout.pWidthHidden,AC.Property.layout.widthHidden,AC.Property.layout.heightHidden,AC.Property.layout.sizes,
AC.Property.layout.minWidth,AC.Property.layout.maxWidth,AC.Property.layout.x,AC.Property.layout.y,AC.Property.layout.zindex,AC.Property.layout.anchors,AC.Property.layout.alignInContainer,AC.Property.layout.repeat]},{name:AC.Property.group_names.behavior,props:[AC.Property.behavior.dragAndDrop,AC.Property.behavior.resizing,AC.Property.behavior.visible,AC.Property.behavior.enable]},{name:AC.Property.group_names.data,props:[AC.Property.data.view,AC.Property.data.fields,AC.Property.data.groupby,AC.Property.data.orderby,
AC.Property.data.filter,AC.Property.data.onview,AC.Property.data.applyview,AC.Property.data.listenview,AC.Property.data.resetfilter,AC.Property.data.autoLoad]},{name:AC.Property.group_names.style,props:[AC.Property.behavior.opacity,AC.Property.style.shadow,AC.Property.style.customCssClasses,AC.Property.style.widgetStyle,AC.Property.style.font,AC.Property.style.fontColor,AC.Property.style.margin,AC.Property.style.boxSizing,AC.Property.style.border,AC.Property.style.bgColor,AC.Property.style.lineSpace,
AC.Property.style.selectedBg,AC.Property.style.selectedFont,AC.Property.general.displayHourglassOver,AC.Property.general.hourglassImage,AC.Property.style.selectedColor]}];f.props=function(){return b};f.emptyProps=function(){var b={bgColor:"#f7f7f7",fontColor:"black",font:"normal 12px verdana",border:"1px solid gray",selectedBg:"gray",selectedFont:"normal 12px verdana",selectedColor:"silver"};f.emptyProps=function(){return b};return b};f.defaultProps=function(){var b={valName:"selectedItems",x:"0",
y:"0",height:"60",width:"120",zindex:"auto",enable:!0,anchors:{left:!0,top:!0,bottom:!1,right:!1},visible:!0,opacity:1,data:[["Label","Value",""]],name:"listBox1",border:"",widgetStyle:"default",hourglassImage:"Default",displayHourglassOver:"inherit",customCssClasses:"",pWidth:"",dragAndDrop:!1,resizing:!1,margin:"",alignInContainer:"left",multySelect:!1,currPage:1,shadow:"",elementsPerPage:WiziCore_Source_Widget_PagingAPI.DEFAULT_ELEMENTS_PER_PAGE,usePaging:!1,boxSizing:"border-box"};f.defaultProps=
function(){return b};return b};f.onStop="E#ListBox#onStop";f.onSelectValue="E#ListBox#onSelectValue";f.actions=function(){var b={onSelectValue:{alias:"widget_event_onselectionchange",funcview:"onSelectionChange",action:"AC.Widgets.ListBoxWidget.onSelectValue",params:"newValue, oldValue",group:"widget_event_general"},dataLoaded:{alias:"widget_event_ondataloaded",funcview:"onDataLoaded",action:"AC.Widgets.Base.onDataLoaded",params:"error, data",group:"widget_event_data",sweight:5},dataReset:{alias:"widget_event_ondatareset",
funcview:"onDataReset",action:"AC.Widgets.Base.onDataReset",params:"",group:"widget_event_data"}},b=jQuery.extend(AC.Widgets.Base.actions(),b);f.actions=function(){return b};return b};f.schemaForTokens=function(b){var a=[];b.prop("multySelect")||(a=[{name:"widget_label",value:"label"},{name:"widget_value",value:"value"}]);return a};f.isField=function(){return!0}})(jQuery,window,document);
(function(d,g,j,e){var f=AC.Widgets.WiziCore_UI_ColorPickerWidget=AC.Widgets.Base.extend(d.extend({},WiziCore_WidgetAbstract_DataIntegrationSimple,{_widgetClass:"WiziCore_UI_ColorPickerWidget",_colorTable:null,_colorDiv:null,_dataPropName:"color",_valueDefaultPropName:"color",init:function(){this._super.apply(this,arguments)},draw:function(){var b=this,e=d("<div>").css({width:"100%",height:this.height()});this._colorDiv=e;e.ColorPicker({onShow:function(){return b.enable()},onSubmit:function(a,c,e,
i,f,g){c=f?"transparent":c.charAt(0)!="#"?"#"+c:"";d(i).ColorPickerHide();if(!g)b.onChangeColor({data:{self:b}},c)},onChange:function(a,b){b.charAt(0)},onBeforeShow:function(){var a=b.color();a!=null&&d(this).ColorPickerSetColor(a)}});this.base().prepend(e);e.append("<table border='0' style='width:100%; height:100%; text-align:center;'><tr><td></td></tr></table>");this._colorTable=e;this._super.apply(this,arguments)},_onSTUpdated:function(){this._displayText(this._project.displayText)},_onInitLanguage:function(){this.displayText(this.displayText())},
initProps:function(){this._super();this.isIncludedInSchema=this.normalProperty("isIncludedInSchema",this._updateStorageFlag);this.isUnique=this.normalProperty("isUnique");this.border=this.themeProperty("border",this._border);this.borderRadius=this.themeProperty("borderRadius",this._borderRadius);this.value=this.color=this.themeProperty("color",this._bg);this.displayText=this.htmlLngPropertyBeforeSet("displayText",this._beforeDisplayText,this._displayText);this.shadow=this.themeProperty("shadow",this._shadow);
this.opacity=this.themeProperty("opacity",this._opacity);this.tabindex=this.htmlProperty("tabindex",this._tabindex);this.view=this.normalProperty("view");this.fields=this.normalProperty("fields");this.groupby=this.normalProperty("groupby");this.orderby=this.normalProperty("orderby");this.filter=this.normalPropBeforeSet("filter",this._filterBefore);this.resetfilter=this.normalProperty("resetfilter");this.listenview=this.normalProperty("listenview");this.applyview=this.normalProperty("applyview");this.onview=
this.normalProperty("onview")},initDomState:function(){this._super();this.initDomStatePos();this._bg(this.color());this._border(this.border());this._borderRadius(this.borderRadius());this._displayText(this._project.displayText);this._updateEnable();this._visible(this.visible());this._opacity(this.opacity());this._tabindex(this.tabindex());this._shadow(this.shadow())},_updateLayout:function(){this._super();this._colorDiv.css({height:this.height()});this._enableDiv!=null&&this._enableDiv.height(this.base().height()).width(this.base().width())},
onChangeColor:function(b,e){var a=b.data.self,c=a.color(),g=new jQuery.Event(f.onChange);d(a).trigger(g,[e,c]);if(!g.isPropagationStopped())c=e,a._project.color=e,this.sendDrillDown();a._bg(c);a.setWidgetColors(c)},setWidgetColors:function(b){if(this.mode()==WiziCore_Visualizer.RUN_MODE){var e=this.form(),a=e.find(this.widgetColor()),c=e.find(this.widgetBGColor()),e=e.find(this.widgetBorderColor());a!=null&&(a.prop("color",b),a.prop("fontColor",b));c!=null&&c.prop("bgColor",b);e!=null&&(a=e.prop("border"),
a=d("<div>").css("border",a).css("border-color",b).css("border"),e.prop("border",a));b=new WiziCore_Api_Color(b);b.rgbToGray();b=b.greenValue()>128?"#000":"#fff";this._isDrawn&&this._colorTable.find("table").css("color",b)}},_enable:function(b){this.showEnableDiv(b)},_bg:function(b){b===null&&(b="");this._super(b)},_beforeDisplayText:function(b){if(this.form().language()!=null&&!this.form()._skipTokenCreation){var d=WiziCore_Helper.isLngToken(b),a=d?b:"ac-"+this.id();d||this.form().addTokenToStringTable(this.id(),
this.name(),a,b);return a}else return b},_displayText:function(b){b=this.getTrValueAddLngAttr(b,this._colorTable.find("td"));this._colorTable.find("td").html(b)},widgetColor:function(b){if(b!=e)b=this.getUidWidgetFromObjectChooser(b),this._project.widgetColor=b,this.sendExecutor({widgetColor:b});return this._project.widgetColor},widgetBGColor:function(b){if(b!=e)b=this.getUidWidgetFromObjectChooser(b),this._project.widgetBGColor=b,this.sendExecutor({widgetBGColor:b});return this._project.widgetBGColor},
widgetBorderColor:function(b){if(b!=e)b=this.getUidWidgetFromObjectChooser(b),this._project.widgetBorderColor=b,this.sendExecutor({widgetBorderColor:b});return this._project.widgetBorderColor},collectDataSchema:function(b){return this._simpleConstDataSchema(AC.Widgets.WiziCore_Api_Form.Type.INTEGER,b)},appendValueToDataObject:function(b,d,a){return this._simpleDataObjectValue(b,a,function(a){a.charAt(0)=="#"&&(a=a.slice(1));return a!="transparent"?parseInt(a,16):-1})},setValueFromDataObject:function(b,
d){this._setDataObjectValueSimple(b,function(a){return a!=-1?"#"+a.toString(16):"transparent"},d)},getDataModel:function(){return this._labelDataModel()},isBindableToData:function(){return!0},onContainerChangeLayout:function(){this._setPosEnableDiv()}}));f._props=[{name:AC.Property.group_names.general,props:[AC.Property.general.widgetClass,AC.Property.general.name,AC.Property.general.color,AC.Property.general.displayText,AC.Property.general.widgetColor,AC.Property.general.widgetBGColor,AC.Property.general.widgetBorderColor]},
{name:AC.Property.group_names.database,props:[AC.Property.database.isIncludedInSchema,AC.Property.database.isUnique]},{name:AC.Property.group_names.layout,props:[AC.Property.layout.pWidthHidden,AC.Property.layout.widthHidden,AC.Property.layout.heightHidden,AC.Property.layout.sizes,AC.Property.layout.minWidth,AC.Property.layout.maxWidth,AC.Property.layout.x,AC.Property.layout.y,AC.Property.layout.zindex,AC.Property.layout.anchors,AC.Property.layout.alignInContainer,AC.Property.layout.repeat]},{name:AC.Property.group_names.behavior,
props:[AC.Property.behavior.dragAndDrop,AC.Property.behavior.resizing,AC.Property.behavior.visible,AC.Property.behavior.enable]},{name:AC.Property.group_names.data,props:[AC.Property.data.view,AC.Property.data.fields,AC.Property.data.groupby,AC.Property.data.orderby,AC.Property.data.filter,AC.Property.data.onview,AC.Property.data.applyview,AC.Property.data.listenview,AC.Property.data.resetfilter,AC.Property.data.autoLoad]},{name:AC.Property.group_names.style,props:[AC.Property.behavior.opacity,AC.Property.style.shadow,
AC.Property.style.margin,AC.Property.style.boxSizing,AC.Property.style.border,AC.Property.style.borderRadius,AC.Property.general.displayHourglassOver,AC.Property.general.hourglassImage,AC.Property.style.customCssClasses,AC.Property.style.widgetStyle]}];f.props=function(){return f._props};f.actions=function(){return{change:{alias:"widget_event_onchange",funcview:"onChange",action:"AC.Widgets.WiziCore_UI_ColorPickerWidget.onChange",params:"newValue, oldValue",group:"widget_event_general"},dataLoaded:{alias:"widget_event_ondataloaded",
funcview:"onDataLoaded",action:"AC.Widgets.Base.onDataLoaded",params:"error, data",group:"widget_event_data"},dataReset:{alias:"widget_event_ondatareset",funcview:"onDataReset",action:"AC.Widgets.Base.onDataReset",params:"",group:"widget_event_data"}}};f.capabilities=function(){return{actions:f.actions(),defaultProps:{pWidth:"",margin:"",alignInContainer:"left",hourglassImage:"Default",displayHourglassOver:"inherit",customCssClasses:"",width:45,height:45,x:"100",y:"50",zindex:"auto",anchors:{left:!0,
top:!0,bottom:!1,right:!1},visible:!0,opacity:1,enable:!0,name:"colorPicker1",color:"#949494",shadow:"",dragAndDrop:!1,resizing:!1,widget_pcat_generalaction:"none",boxSizing:"border-box"},inlineEditPropName:"color",props:f.props(),isField:!0,containerType:AC.Widgets.Base.CASE_TYPE_ITEM}};f.onChange="E#ColorPicker#onChange"})(jQuery,window,document);
(function(d,g,j,e){var f=AC.Widgets.WiziCore_UI_SliderWidget=AC.Widgets.Base.extend(d.extend({},WiziCore_WidgetAbstract_DataIntegrationInterval,{_widgetClass:"WiziCore_UI_SliderWidget",_padding:null,_slider:null,_div:null,_currValue:null,_slideWidgetObj:null,_oldVal:null,_dataPropName:"values",init:function(){this._super.apply(this,arguments)},draw:function(){var b=this;this._padding=8;this._div=d("<div style='padding:"+this._padding+"px; font-size:62.5%;'>");this._slider=d("<div>");this._div.append(this._slider);
this.base().prepend(this._div);this.slideBindgingsImageCache();this.initSlideWidget();this.initSlider();b.onSlideBinding(this.prop("values"));d(this._slider).bind("slide.custom",function(d,a){if(b.range()!=="On")b.onSlideBinding(a.value)});d(this._slider).bind("slidechange.widget",{self:b},b.onChange);this._super.apply(this,arguments)},onPageDrawn:function(){this._updateLayout()},initProps:function(){this._super();this.isIncludedInSchema=this.normalProperty("isIncludedInSchema",this._updateStorageFlag);
this.dataType=this.normalProperty("dataType");this.isUnique=this.normalProperty("isUnique");this.bg=this.themeProperty("bgColor",this._bgColor);this.borderColor=this.themeProperty("borderColor",this._borderColor);this.hoverColor=this.themeProperty("hoverColor",function(){});this.defaultColor=this.themeProperty("defaultColor",this._defaultColor);this.activeColor=this.themeProperty("activeColor",function(){});this.opacity=this.themeProperty("opacity",this._opacity);this.orientation=this.htmlProperty("orientation",
this._orientation);this.step=this.htmlProperty("step",this._step);this.max=this.checkedPropTemplate("max");this.min=this.checkedPropTemplate("min");this.range=this.checkedPropTemplate("range");this.value=this.values=this.checkedPropTemplate("values");this.view=this.normalProperty("view");this.fields=this.normalProperty("fields");this.groupby=this.normalProperty("groupby");this.orderby=this.normalProperty("orderby");this.filter=this.normalPropBeforeSet("filter",this._filterBefore);this.resetfilter=
this.normalProperty("resetfilter");this.listenview=this.normalProperty("listenview");this.applyview=this.normalProperty("applyview");this.onview=this.normalProperty("onview");this.slideBinding=this.normalProperty("slideBinding");this.slideWidget=this.normalPropBeforeSet("slideWidget",this.getUidWidgetFromObjectChooser,this.initSlideWidget)},_updateLayout:function(){this._super();this._isDrawn&&this.orientation().toLowerCase()=="vertical"&&this._slider.css("height",parseInt(this._project.height)-this._padding*
2)},onRemove:function(){this._checkRepeatBeforeRemove()||d(this._slider).unbind("slidechange.widget",this.onChange)},isInterval:function(){return this.range()=="On"},getSlideWidgetValFix:function(){var b=this.slideWidget();return b=d.isPlainObject(b)&&b.uid!=e?b.uid:b},initSlideWidget:function(){var b=this.getSlideWidgetValFix();this._slideWidgetObj=this.form().find(b)},checkProps:function(b){var i=b.min,a=b.max,c=b.range,b=b.values,b=d.isArray(b)?[b[0],b[1]]:b,f=!1,h=!1;i>a&&(h=i,i=a,a=h,h=!0);if(c==
"On"){d.isArray(b)||(b=[b,b],f=!0);for(c=0;c<2;++c)b[c]>=i&&b[c]<=a||(b[c]=isNaN(b[c])?i:Math.min(a,Math.max(i,b[c])),f=!0);b[1]<b[0]&&(c=b[1],b[1]=b[0],b[0]=c,f=!0)}else d.isArray(b)||(b=[b],f=!0),b[0]>=i&&b[0]<=a||(b=isNaN(b[0])?i:Math.min(a,Math.max(i,b[0])),f=!0);c={};f&&(c.values=b);if(h)c.min=i,c.max=a;return f||h?c:e},checkedPropTemplate:function(b){return function(d){if(d!==e){for(var a=["max","min","range","values"],c={},f=0;f<a.length;++f){var h=a[f];c[h]=this._project[h]}c[b]=d;c=this.checkProps(c);
a={};a[b]=d;this._project[b]=d;if(c!=e)for(var g in c)a[g]=c[g],this._project[g]=c[g];this.sendExecutor(a);if(this._isDrawn){for(var j in a)switch(d=a[j],j){case "max":this._max(d);break;case "min":this._min(d);break;case "range":this._range(d)}this._values(this._project.values)}}return this._project[b]}},initDomState:function(){this._super();this.initDomStatePos();this._bgColor(this.bg());this._borderColor(this.borderColor());this._defaultColor(this.defaultColor());this._orientation(this.orientation());
this._max(this.max());this._min(this.min());this._values(this.values());this._step(this.step());this._range(this.range());this._visible(this.visible());this._opacity(this.opacity())},bindEvent:function(b){this._super(b);if(!(this._bindingEvents[b]>1||this.mode()==WiziCore_Visualizer.EDITOR_MODE))switch(b){case f.onStart:d(this._slider).bind("slidestart.widget",{self:this},this.onStart);break;case f.onSlide:d(this._slider).bind("slide.widget",{self:this},this.onSlide)}},unbindEvent:function(b,e){this._super(b,
e);if(!(this._bindingEvents[b]>0&&e!=!0))switch(b){case f.onStart:d(this._slider).unbind("slidestart.widget",this.onStart);break;case f.onSlide:d(this._slider).unbind("slide.widget",this.onSlide)}},onStart:function(b,e){var a=b.data.self,c=new d.Event(f.onStart),g=e.value;a.range()=="On"&&(g={min:e.values[0],max:e.values[1]});d(a).trigger(c,[g])},onChange:function(b,e){var a=b.data.self,c=new d.Event(f.onChange),g=a._oldVal,h=e.value;a.range()=="On"&&(h={min:e.values[0],max:e.values[1]});a._oldVal=
h;d(a).trigger(c,[h,g])},onSlide:function(b,e){var a=b.data.self,c=new d.Event(f.onSlide),g=e.value;a.range()=="On"&&(g={min:e.values[0],max:e.values[1]});d(a).trigger(c,[g])},slideBindgingsImageCache:function(){var b=this.slideBinding(),d=this.getSlideWidgetValFix();if(b!=null&&b.rows!=e&&d!=null)for(var b=b.rows,d=0,a=b.length;d<a;d++){var c=b[d].data[1];(new Image).src=c}},onSlideBinding:function(b){if(!(this.range()==="On"||this.mode()==WiziCore_Visualizer.EDITOR_MODE)){var f=this.slideBinding(),
a=this._slideWidgetObj;if(f!=null&&f.rows!=e&&a!=null){for(var f=f.rows,c=null,g=null,h=0,j=f.length;h<j;h++){var w=f[h],z=parseInt(w.data[0]);d.isArray(b)&&b[0]!=e&&(b=b[0]);var r=b-z;g===null&&(g=r);w=w.data[1];b>=z&&g>=r&&r>=0&&(c=w,g=r)}c!=null&&a.getData()!==c&&a.setData(c)}}},initSlider:function(){this._slider.data("slider")&&this._slider.slider("destroy");var b=this,e={orientation:this.orientation().toLowerCase()};this.range()!=""&&(e.range=this.range());this.max()!=""&&(e.max=this.max());
this.min()!=""&&(e.min=this.min());var a=this.values();a!=""&&a!=null&&(this.range()=="On"?e.values=a:e.value=a[0]);this.step()!=""&&(e.step=this.step());this._slider.slider(e);this._updateEnable();var c=this._slider.find("a");d(this._slider).unbind("slidestop");d(this._slider).bind("slidestop",{self:b},function(a){b.onStop(a);c.css("background",b.defaultColor())});var f=!1;c.mousedown(function(){b.enable()&&b._isParentEnable()&&(c.css("background",b.hoverColor()),f=!0)}).hover(function(){b.enable()&&
b._isParentEnable()&&(f||d(this).css("background",b.hoverColor()))},function(){b.enable()&&b._isParentEnable()&&(f||d(this).css("background",b.defaultColor()))}).mouseup(function(){b.enable()&&b._isParentEnable()&&(f=!1,c.css("background",b.defaultColor()))})},onStop:function(){var b=new d.Event(f.onStop),e=this.prop("values"),a=this.range()=="On"?"values":"value",a=d(this._slider).slider("option",a);acDebugger.systemLog1("value",a);d(this).trigger(b,[a,e]);b.isPropagationStopped()==!1?(this._project.values=
a,this.range(),this.sendDrillDown()):this.values(e)},_enable:function(b){this._slider!=null&&(b===!1?this._slider.slider("disable"):this._slider.slider("enable"))},_orientation:function(b){b=typeof b=="object"?b.value:b;b=="horizontal"&&this._slider.css("height","");this._slider.hide();d(this._slider).slider("option","orientation",b);this._slider.show()},_range:function(b){b=typeof b=="object"?b.value:b;b=b.toLowerCase();d(this._slider).slider("option","range",b=="on"?!0:b)},_max:function(b){d(this._slider).slider("option",
"max",b)},_min:function(b){d(this._slider).slider("option","min",b)},_values:function(b){var e=this.range();e!="On"&&(b=b[0]);d(this._slider).slider("option",e=="On"?"values":"value",b)},_borderColor:function(b){this._slider!=null&&this.base().find(".ui-slider").css("border","1px solid "+b)},_bgColor:function(b){this._slider!=null&&this.base().find(".ui-widget-content").css("background-color",b)},_defaultColor:function(b){this._slider!=null&&this.base().find(".ui-state-default").css("background",
b)},_step:function(b){d(this._slider).slider("option","step",b)},collectDataSchema:function(b){if(!this.isIncludedInSchema())return e;if(this.range()==="On"){var d=this.dataType()||AC.Widgets.WiziCore_Api_Form.Type.STRING,d={label:null,type:AC.Widgets.WiziCore_Api_Form.Kind.SIMPLE,structure:d},d={label:this.name(),type:AC.Widgets.WiziCore_Api_Form.Kind.OBJECT,structure:{min:d,max:d},unique:this.isUnique()};return b[this.id()]=d}else return this._simpleDataSchema(b)},appendValueToDataObject:function(b,
d,a){var c=this;return this._simpleDataObjectValue(b,a,function(a){return c._valueToRdbValue(a)})},setValueFromDataObject:function(b,d){var a=this;this._setDataObjectValueSimple(b,function(b){return a._rdbValueToValue(b)},d)},getDataModel:function(){var b=[];return b=this.range()=="On"?[{name:"Value Left",value:"",uid:"valueuid"},{name:"Value Right",value:"",uid:"valueuid1"}]:this._valueDataModel()},isBindableToData:function(){return!0},rdbValueDataModel:function(){return this.range()=="On"?[{name:"Min",
value:"",uid:"min"},{name:"Max",value:"",uid:"max"}]:null},_rdbValueToValue:function(b){b!==e&&(this.range()==="On"?b=typeof b!="object"?[b,b]:[b.min,b.max]:typeof b=="object"&&b.min!=e&&(b=b.min!=e?b.min:null));return b},_valueToRdbValue:function(b){var e=this.range(),a=d.isArray(b),c=null;e==="On"?(a||(b=[b,b]),c={min:b[0],max:b[1]}):(a&&(b=b[0]),c=b);return c},rdbValue:function(b){return b!==e?(this.value(this._rdbValueToValue(b)),e):this._valueToRdbValue(this.value())}}));f._props=[{name:AC.Property.group_names.general,
props:[AC.Property.general.widgetClass,AC.Property.general.name,AC.Property.general.max,AC.Property.general.min,AC.Property.general.values,AC.Property.general.step,AC.Property.general.range,AC.Property.general.slideBinding,AC.Property.general.slideWidget]},{name:AC.Property.group_names.database,props:[AC.Property.database.isIncludedInSchema,AC.Property.database.dataType,AC.Property.database.isUnique]},{name:AC.Property.group_names.layout,props:[AC.Property.layout.x,AC.Property.layout.y,AC.Property.layout.pWidthHidden,
AC.Property.layout.widthHidden,AC.Property.layout.heightHidden,AC.Property.layout.sizes,AC.Property.layout.minWidth,AC.Property.layout.maxWidth,AC.Property.layout.maxHeight,AC.Property.layout.zindex,AC.Property.layout.anchors,AC.Property.layout.alignInContainer,AC.Property.layout.repeat]},{name:AC.Property.group_names.behavior,props:[AC.Property.behavior.dragAndDrop,AC.Property.behavior.resizing,AC.Property.behavior.visible,AC.Property.behavior.enable]},{name:AC.Property.group_names.data,props:[AC.Property.data.view,
AC.Property.data.fields,AC.Property.data.groupby,AC.Property.data.orderby,AC.Property.data.filter,AC.Property.data.onview,AC.Property.data.applyview,AC.Property.data.listenview,AC.Property.data.resetfilter,AC.Property.data.autoLoad]},{name:AC.Property.group_names.style,props:[AC.Property.behavior.opacity,AC.Property.style.margin,AC.Property.style.borderColor,AC.Property.style.bgColor,AC.Property.style.hoverColor,AC.Property.style.defaultColor,AC.Property.general.displayHourglassOver,AC.Property.general.hourglassImage,
AC.Property.style.customCssClasses,AC.Property.style.widgetStyle]}];f.props=function(){return f._props};f.onChange="E#WiziCore_UI_SliderWidget#onChange";f.onStop="E#WiziCore_UI_SliderWidget#onStop";f.onStart="E#WiziCore_UI_SliderWidget#onStart";f.onSlide="E#WiziCore_UI_SliderWidget#onSlide";f.emptyProps=function(){return{bgColor:"#f7f7f7",borderColor:"black",hoverColor:"gray",defaultColor:"silver"}};f.actions=function(){var b={onChange:{alias:"widget_event_onchange",funcview:"onChange",action:"AC.Widgets.WiziCore_UI_SliderWidget.onChange",
params:"newValue, oldValue",group:"widget_event_general"},onStop:{alias:"widget_event_onstop",funcview:"onStop",action:"AC.Widgets.WiziCore_UI_SliderWidget.onStop",params:"value",group:"widget_event_general"},onStart:{alias:"widget_event_onstart",funcview:"onStart",action:"AC.Widgets.WiziCore_UI_SliderWidget.onStart",params:"value",group:"widget_event_general"},onSlide:{alias:"widget_event_onslide",funcview:"onSlide",action:"AC.Widgets.WiziCore_UI_SliderWidget.onSlide",params:"value",group:"widget_event_general"},
dataLoaded:{alias:"widget_event_ondataloaded",funcview:"onDataLoaded",action:"AC.Widgets.Base.onDataLoaded",params:"error, data",group:"widget_event_data",sweight:5},dataReset:{alias:"widget_event_ondatareset",funcview:"onDataReset",action:"AC.Widgets.Base.onDataReset",params:"",group:"widget_event_data"}},b=d.extend(AC.Widgets.Base.actions(),b);f.actions=function(){return b};return b};f.defaultProps=function(){return{margin:"",alignInContainer:"left",valName:"currVal",width:200,height:25,x:"100",
y:"50",zindex:"auto",anchors:{left:!0,top:!0,bottom:!1,right:!1},visible:!0,orientation:"horizontal",enable:!0,max:100,min:0,values:[0,0],step:"",hourglassImage:"Default",displayHourglassOver:"inherit",customCssClasses:"",range:"Off",widgetStyle:"default",name:"sliderH1",dragAndDrop:!1,resizing:!1,opacity:1}};f.resizeProperties=function(){return{handles:"e"}};f.isField=function(){return!0}})(jQuery,window,document);
(function(d){var g=AC.Widgets.WiziCore_UI_SliderHWidget=AC.Widgets.WiziCore_UI_SliderWidget.extend({_widgetClass:"WiziCore_UI_SliderHWidget"});g.inlineEditPropName=function(){return"values"};var j=AC.Widgets.WiziCore_UI_SliderWidget.props();g.props=function(){return j};g.actions=function(){var e={},e=d.extend(AC.Widgets.WiziCore_UI_SliderWidget.actions(),e);g.actions=function(){return e};return e};g.defaultProps=function(){var d={},d=jQuery.extend(AC.Widgets.WiziCore_UI_SliderWidget.defaultProps(),
d);d.orientation="horizontal";d.name="sliderH1";d.pWidth="";return d};g.resizeProperties=function(){return{handles:"e"}};g.emptyProps=function(){var e={};return e=d.extend(AC.Widgets.WiziCore_UI_SliderWidget.emptyProps(),e)};g.isField=function(){return!0}})(jQuery,window,document);
(function(d){var g=AC.Widgets.WiziCore_UI_SliderVWidget=AC.Widgets.WiziCore_UI_SliderWidget.extend({_widgetClass:"WiziCore_UI_SliderVWidget"});g.inlineEditPropName=function(){return"values"};var j=AC.Widgets.WiziCore_UI_SliderWidget.props();g.props=function(){return j};g.actions=function(){var e={},e=d.extend(AC.Widgets.WiziCore_UI_SliderWidget.actions(),e);g.actions=function(){return e};return e};g.defaultProps=function(){var e={},e=d.extend(AC.Widgets.WiziCore_UI_SliderWidget.defaultProps(),e);
e.orientation="vertical";e.name="sliderV1";e.height=200;e.width=25;return e};g.resizeProperties=function(){return{handles:"s"}};g.emptyProps=function(){var e={};return e=d.extend(AC.Widgets.WiziCore_UI_SliderWidget.emptyProps(),e)};g.isField=function(){return!0}})(jQuery,window,document);
